<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Window Management</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 6edc88947, updated Thu Aug 17 11:18:09 2023 -0700" name="generator">
  <link href="https://www.w3.org/TR/window-management/" rel="canonical">
  <link href="logo.svg" rel="icon">
  <meta content="b439243a561534e176edfc893a2d5cecc72db345" name="document-revision">
<style>
.domintro::before {
    content: 'For web developers (non-normative)';
    text-transform: initial;
}
.domintro dt {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

    padding-top: 0.5em;
    padding-bottom: 1em;
}
.domintro dt a {
    color: inherit; border-bottom-style: none;
}
.domintro dt code {
    font-size: inherit;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Window Management</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="2023-08-29">29 August 2023</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/window-management/">https://w3c.github.io/window-management/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/window-management/">https://www.w3.org/TR/window-management/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/window-management/issues/">GitHub</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="61302"><a class="p-name fn u-email email" href="mailto:jsbell@google.com">Joshua Bell</a> (<a class="p-org org" href="https://www.google.com/">Google Inc.</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="116970"><a class="p-name fn u-email email" href="mailto:msw@google.com">Mike Wasserman</a> (<a class="p-org org" href="https://www.google.com/">Google Inc.</a>)
      <dt>Test Suites:
      <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/window-management">https://github.com/web-platform-tests/wpt/tree/master/window-management</a>
      <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/screen-details">https://github.com/web-platform-tests/wpt/tree/master/screen-details</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-software" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document defines a web platform API that allows script to query the device for information about its screens, and place content on specific screens.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://www.w3.org/groups/wg/secondscreen">Second Screen Working Group</a> as an Editor’s Draft. This document is intended to become a W3C Recommendation. </p>
   <p> Feedback and comments on this specification are welcome. Please use <a href="https://github.com/w3c/window-management/issues">Github issues</a>. </p>
   <p> Publication as an Editor’s Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a class="css" data-link-type="property" href="https://www.w3.org/Consortium/Patent-Policy-20200915/" id="sotd_patent">W3C Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/74168/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2023/Process-20230612/" id="w3c_process_revision">12 June 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#motivations"><span class="secno">1.1</span> <span class="content">Motivating Use Cases</span></a>
      <li>
       <a href="#usage-overview"><span class="secno">1.2</span> <span class="content">Usage Overview</span></a>
       <ol class="toc">
        <li><a href="#usage-overview-screen-extended"><span class="secno">1.2.1</span> <span class="content">Detect the presence of multiple screens</span></a>
        <li><a href="#usage-overview-screen-changes"><span class="secno">1.2.2</span> <span class="content">Detect <code class="idl"><span>Screen</span></code> attribute changes</span></a>
        <li><a href="#usage-overview-screen-details"><span class="secno">1.2.3</span> <span class="content">Request detailed screen information</span></a>
        <li><a href="#usage-overview-place-fullscreen-content-on-a-specific-screen"><span class="secno">1.2.4</span> <span class="content">Place fullscreen content on a specific screen</span></a>
        <li><a href="#usage-overview-place-windows-on-a-specific-screen"><span class="secno">1.2.5</span> <span class="content">Place windows on a specific screen</span></a>
        <li><a href="#usage-overview-initiate-multi-screen-experiences"><span class="secno">1.2.6</span> <span class="content">Initiate multi-screen experiences</span></a>
       </ol>
     </ol>
    <li>
     <a href="#concepts"><span class="secno">2</span> <span class="content">Concepts</span></a>
     <ol class="toc">
      <li><a href="#concept-screen"><span class="secno">2.1</span> <span class="content">Screen</span></a>
      <li><a href="#concept-screen-pixel"><span class="secno">2.2</span> <span class="content">Screen pixel</span></a>
      <li><a href="#concept-screen-area"><span class="secno">2.3</span> <span class="content">Screen area</span></a>
      <li><a href="#concept-available-screen-area"><span class="secno">2.4</span> <span class="content">Available screen area</span></a>
      <li><a href="#concept-virtual-screen-arrangement"><span class="secno">2.5</span> <span class="content">Virtual screen arrangement</span></a>
      <li><a href="#concept-screen-position"><span class="secno">2.6</span> <span class="content">Screen position</span></a>
      <li><a href="#concept-available-screen-position"><span class="secno">2.7</span> <span class="content">Available screen position</span></a>
      <li><a href="#concept-primary-screen"><span class="secno">2.8</span> <span class="content">Primary screen</span></a>
      <li><a href="#concept-internal-screen"><span class="secno">2.9</span> <span class="content">Internal screen</span></a>
      <li><a href="#concept-current-screen"><span class="secno">2.10</span> <span class="content">Current screen</span></a>
      <li><a href="#concept-observable-screen-properties"><span class="secno">2.11</span> <span class="content">Observable screen properties</span></a>
     </ol>
    <li>
     <a href="#api"><span class="secno">3</span> <span class="content">API</span></a>
     <ol class="toc">
      <li>
       <a href="#api-extensions-to-screen"><span class="secno">3.1</span> <span class="content">Extensions to the <code class="idl"><span>Screen</span></code> interface</span></a>
       <ol class="toc">
        <li><a href="#api-screen-isExtended-attribute"><span class="secno">3.1.1</span> <span class="content"><code class="idl"><span>isExtended</span></code> attribute</span></a>
        <li><a href="#api-screen-onchange-attribute"><span class="secno">3.1.2</span> <span class="content"><code class="idl"><span>onchange</span></code> attribute</span></a>
       </ol>
      <li>
       <a href="#api-extensions-to-window"><span class="secno">3.2</span> <span class="content">Extensions to the <code class="idl"><span>Window</span></code> interface</span></a>
       <ol class="toc">
        <li><a href="#api-window-getScreenDetails-method"><span class="secno">3.2.1</span> <span class="content"><code class="idl"><span>getScreenDetails()</span></code> method</span></a>
        <li><a href="#api-window-attribute-and-method-definition-changes"><span class="secno">3.2.2</span> <span class="content"><code class="idl"><span>Window</span></code> attribute and method definition changes</span></a>
        <li><a href="#api-window-open-method-definition-changes"><span class="secno">3.2.3</span> <span class="content"><code class="idl"><span>Window.open()</span></code> method definition changes</span></a>
       </ol>
      <li>
       <a href="#api-screendetails-interface"><span class="secno">3.3</span> <span class="content"><code class="idl"><span>ScreenDetails</span></code> interface</span></a>
       <ol class="toc">
        <li><a href="#api-screendetails-screens-attribute"><span class="secno">3.3.1</span> <span class="content"><code class="idl"><span>screens</span></code> attribute</span></a>
        <li><a href="#api-screendetails-currentscreen-attribute"><span class="secno">3.3.2</span> <span class="content"><code class="idl"><span>currentScreen</span></code> attribute</span></a>
        <li><a href="#api-screendetails-onscreenschange-attribute"><span class="secno">3.3.3</span> <span class="content"><code class="idl"><span>onscreenschange</span></code> attribute</span></a>
        <li><a href="#api-screendetails-oncurrentscreenchange-attribute"><span class="secno">3.3.4</span> <span class="content"><code class="idl"><span>oncurrentscreenchange</span></code> attribute</span></a>
       </ol>
      <li>
       <a href="#api-screendetailed-interface"><span class="secno">3.4</span> <span class="content">The <code class="idl"><span>ScreenDetailed</span></code> interface</span></a>
       <ol class="toc">
        <li><a href="#api-screendetailed-onchange-attribute"><span class="secno">3.4.1</span> <span class="content"><code class="idl"><span>onchange</span></code> attribute</span></a>
       </ol>
      <li>
       <a href="#api-extensions-to-fullscreen-options"><span class="secno">3.5</span> <span class="content">Extensions to <code class="idl"><span>FullscreenOptions</span></code></span></a>
       <ol class="toc">
        <li><a href="#api-element-requestfullscreen-method-definition-changes"><span class="secno">3.5.1</span> <span class="content"><code class="idl"><span>Element.requestFullscreen()</span></code> method definition changes</span></a>
       </ol>
      <li><a href="#api-permission-api-integration"><span class="secno">3.6</span> <span class="content">Permission API Integration</span></a>
      <li><a href="#api-permission-policy-integration"><span class="secno">3.7</span> <span class="content">Permission Policy integration</span></a>
     </ol>
    <li><a href="#security"><span class="secno">4</span> <span class="content">Security Considerations</span></a>
    <li><a href="#privacy"><span class="secno">5</span> <span class="content">Privacy Considerations</span></a>
    <li><a href="#a11y"><span class="secno">6</span> <span class="content">Accessibility Considerations</span></a>
    <li><a href="#i18n"><span class="secno">7</span> <span class="content">Internationalization Considerations</span></a>
    <li><a href="#acknowledgements"><span class="secno">8</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>Operating systems generally allow users to connect multiple screens to a single device and arrange them virtually to extend the overall visual workspace.</p>
   <p>A variety of applications use platform tools to place their content in such multi-screen environments, but web application developers are limited by existing APIs, which were generally designed around the use of a single screen.</p>
   <p>As multi-screen devices and applications become a more common and critical part of user experiences, it becomes more important to give web developers information and tools to leverage that expanded visual environment.</p>
   <p>This specification incrementally extends the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen">Screen</a></code>, and <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions">FullscreenOptions</a></code> APIs, and introduces new <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails">ScreenDetails</a></code> and <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed">ScreenDetailed</a></code> interfaces. These changes allow web applications to offer compelling multi-screen experiences by placing content on specific screens.</p>
   <h3 class="heading settled" data-level="1.1" id="motivations"><span class="secno">1.1. </span><span class="content">Motivating Use Cases</span><a class="self-link" href="#motivations"></a></h3>
   <p>The aim of this specification is enable better experiences for web application users with multiple screens. Here are some use cases that inform the design:</p>
   <ul>
    <li data-md>
     <p>Slideshow app presents on a projector, shows speaker notes on a laptop screen.</p>
    <li data-md>
     <p>Financial app opens a dashboard of windows across multiple monitors.</p>
    <li data-md>
     <p>Medical app opens images (e.g. x-rays) on a high-resolution grayscale display.</p>
    <li data-md>
     <p>Creativity app shows secondary windows (e.g. palette) on a separate screen.</p>
    <li data-md>
     <p>Conference room app shows controls on a touch screen device and video on a TV.</p>
    <li data-md>
     <p>Multi-screen layouts in gaming, signage, artistic, and other types of apps.</p>
    <li data-md>
     <p>Site optimizes content and layout when a window spans multiple screens.</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="usage-overview"><span class="secno">1.2. </span><span class="content">Usage Overview</span><a class="self-link" href="#usage-overview"></a></h3>
   <p>To support multi-screen experiences, the API allows web applications to:</p>
   <ol>
    <li data-md>
     <p>Detect if the device has more than one screen</p>
    <li data-md>
     <p>Request information required to place content on specific screens</p>
    <li data-md>
     <p>Detect when a screen is added or removed</p>
    <li data-md>
     <p>Detect when the current screen or an attribute thereof changes</p>
    <li data-md>
     <p>Show an element fullscreen on a specific screen</p>
    <li data-md>
     <p>Place a window on a specific screen</p>
    <li data-md>
     <p>Initiate a multi-screen experience from a single transient user activation</p>
   </ol>
   <div class="example" id="basic-example">
    <a class="self-link" href="#basic-example"></a> 
    <p>A basic example of the API usage is as follows:</p>
<pre class="language-js highlight"><c- c1>// Detect if the device has more than one screen.</c->
<c- k>if</c-> <c- p>(</c->window<c- p>.</c->screen<c- p>.</c->isExtended<c- p>)</c-> <c- p>{</c->
  <c- c1>// Request information required to place content on specific screens.</c->
  <c- a>const</c-> screenDetails <c- o>=</c-> <c- k>await</c-> window<c- p>.</c->getScreenDetails<c- p>();</c->

  <c- c1>// Detect when a screen is added or removed.</c->
  screenDetails<c- p>.</c->addEventListener<c- p>(</c-><c- t>'screenschange'</c-><c- p>,</c-> onScreensChange<c- p>);</c->

  <c- c1>// Detect when the current \`ScreenDetailed\` or an attribute thereof changes.</c->
  screenDetails<c- p>.</c->addEventListener<c- p>(</c-><c- t>'currentscreenchange'</c-><c- p>,</c-> onCurrentScreenChange<c- p>);</c->

  <c- c1>// Find the primary screen, show some content fullscreen there.</c->
  <c- a>const</c-> primaryScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s<c- p>.</c->isPrimary<c- p>);</c->
  document<c- p>.</c->documentElement<c- p>.</c->requestFullscreen<c- p>({</c->screen <c- o>:</c-> primaryScreen<c- p>});</c->

  <c- c1>// Find a different screen, fill its available area with a new window.</c->
  <c- a>const</c-> otherScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s <c- o>!==</c-> primaryScreen<c- p>);</c->
  window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->otherScreen<c- p>.</c->availLeft<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`top=</c-><c- si>${</c->otherScreen<c- p>.</c->availTop<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`width=</c-><c- si>${</c->otherScreen<c- p>.</c->availWidth<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`height=</c-><c- si>${</c->otherScreen<c- p>.</c->availHeight<c- si>}</c-><c- sb>\`);</c->
<c- sb>} else {</c->
<c- sb>  // Detect when an attribute of the legacy \`Screen\` interface changes.</c->
<c- sb>  window.screen.addEventListener('change', onScreenChange);</c->

<c- sb>  // Arrange content within the traditional single-screen environment...</c->
<c- sb>}</c->
</pre>
   </div>
   <h4 class="heading settled" data-level="1.2.1" id="usage-overview-screen-extended"><span class="secno">1.2.1. </span><span class="content">Detect the presence of multiple screens</span><a class="self-link" href="#usage-overview-screen-extended"></a></h4>
   <p>A principal question for supporting multi-screen experiences is whether the device has multiple screens that can be used when placing content. These screens can be built-in to the device (like a laptop display panel), attached to the device by wire (like a computer and monitor attached by an HDMI cable), connected to the device by other means (like Mac and iPad Sidecar functionality), or through display device virtualization. This is provided by the <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended">isExtended</a></code> boolean, exposed to secure contexts without a permission prompt.</p>
<pre class="language-js highlight"><c- k>if</c-> <c- p>(</c->screen<c- p>.</c->isExtended<c- p>)</c-> <c- p>{</c->
  <c- c1>// Offer multi-screen controls for the user.</c->
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="1.2.2" id="usage-overview-screen-changes"><span class="secno">1.2.2. </span><span class="content">Detect <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen①">Screen</a></code> attribute changes</span><a class="self-link" href="#usage-overview-screen-changes"></a></h4>
   <p>Observing legacy <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen②">Screen</a></code> attribute changes is useful for adapting content, even on single-screen devices. Furthermore, observing <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended①">isExtended</a></code> is useful for detecting transitions between single-screen and multi-screen configurations. To avoid polling, <code class="idl"><a data-link-type="idl" href="#eventdef-screen-change" id="ref-for-eventdef-screen-change">change</a></code> events are fired at the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen③">Screen</a></code> object:</p>
<pre class="language-js highlight">screen<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> e <c- p>=></c-> <c- p>{</c->
  <c- c1>// An attribute of the legacy \`Screen\` interface has changed.</c->
<c- p>});</c->
</pre>
   <h4 class="heading settled" data-level="1.2.3" id="usage-overview-screen-details"><span class="secno">1.2.3. </span><span class="content">Request detailed screen information</span><a class="self-link" href="#usage-overview-screen-details"></a></h4>
   <p>Detailed information about screens used by the device can be requested through the <code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails">getScreenDetails()</a></code> method. This method may prompt the user for permission. The resulting <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails①">ScreenDetails</a></code> object lets developers enumerate screens, inspect their attributes, and listen for changes.</p>
<pre class="language-js highlight"><c- k>try</c-> <c- p>{</c->
  <c- c1>// Request screen details and process the information immediately.</c->
  <c- a>const</c-> screenDetails <c- o>=</c-> <c- k>await</c-> window<c- p>.</c->getScreenDetails<c- p>();</c->
  processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->

  <c- c1>// Process updated screen details when the set of screens change.</c->
  screenDetails<c- p>.</c->onscreenschange <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
    processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->
  <c- p>};</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->err<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c->err<c- p>);</c->
  <c- c1>// Handle denied permission and other errors.</c->
<c- p>}</c->

<c- a>function</c-> processScreenDetails<c- p>(</c->screenDetails<c- p>)</c-> <c- p>{</c->
  <c- c1>// Build a UI listing screens, using assumed helpers.</c->
  clearScreenList<c- p>();</c->
  screenDetails<c- p>.</c->screens<c- p>.</c->forEach<c- p>(</c->screen <c- p>=></c-> <c- p>{</c->
    addToScreenList<c- p>({</c->name<c- o>:</c-> screen<c- p>.</c->label<c- p>,</c-> screen<c- o>:</c-> screen<c- p>});</c->
    <c- c1>// Process updated screen details when a particular screen’s details change.</c->
    screen<c- p>.</c->onchange <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
      processScreenDetails<c- p>(</c->screenDetails<c- p>);</c->
    <c- p>};</c->
  <c- p>});</c->
  selectCurrentInScreenList<c- p>(</c->screenDetails<c- p>.</c->currentScreen<c- p>);</c->
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="1.2.4" id="usage-overview-place-fullscreen-content-on-a-specific-screen"><span class="secno">1.2.4. </span><span class="content">Place fullscreen content on a specific screen</span><a class="self-link" href="#usage-overview-place-fullscreen-content-on-a-specific-screen"></a></h4>
   <p>A common multi-screen use case is to present some content fullscreen on a specific screen. The screen may be selected interactively, or automatically selected based on screen attributes or prior user selections. A screen, once selected, can be passed to the <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen">requestFullscreen()</a></code> method.</p>
<pre class="language-js highlight"><c- c1>// Call an assumed helper that returns a selected \`ScreenDetailed\` instance.</c->
<c- a>const</c-> screenDetailed <c- o>=</c-> getScreenForSlideshow<c- p>();</c->

<c- c1>// Request that a particular element be shown fullscreen on the selected screen.</c->
slideshowElement<c- p>.</c->requestFullscreen<c- p>({</c-> screen<c- o>:</c-> screenDetailed <c- p>});</c->
</pre>
   <h4 class="heading settled" data-level="1.2.5" id="usage-overview-place-windows-on-a-specific-screen"><span class="secno">1.2.5. </span><span class="content">Place windows on a specific screen</span><a class="self-link" href="#usage-overview-place-windows-on-a-specific-screen"></a></h4>
   <p>Another common multi-screen use case is to place a window on a specific screen. This can be accomplished by using coordinates provided in the <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①">ScreenDetailed</a></code> interface with existing <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open">open()</a></code> and <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto">moveTo()</a></code> methods.</p>
<pre class="language-js highlight"><c- a>function</c-> openCenteredWindow<c- p>(</c->url<c- p>,</c-> screenDetailed<c- p>,</c-> w<c- p>,</c-> h<c- p>)</c-> <c- p>{</c->
  <c- c1>// Compute coordinates centering the window on the target screen.</c->
  <c- a>const</c-> l <c- o>=</c-> screenDetailed<c- p>.</c->left <c- o>+</c-> Math<c- p>.</c->round<c- p>(</c->screenDetailed<c- p>.</c->width <c- o>-</c-> w<c- p>)</c-> <c- o>/</c-> <c- mf>2</c-><c- p>;</c->
  <c- a>const</c-> t <c- o>=</c-> screenDetailed<c- p>.</c->top <c- o>+</c-> Math<c- p>.</c->round<c- p>(</c->screenDetailed<c- p>.</c->height <c- o>-</c-> h<c- p>)</c-> <c- o>/</c-> <c- mf>2</c-><c- p>;</c->

  <c- c1>// Open the window with the requested dimensions.</c->
  <c- k>return</c-> window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->l<c- si>}</c-><c- sb>,top=</c-><c- si>${</c->t<c- si>}</c-><c- sb>,width=</c-><c- si>${</c->w<c- si>}</c-><c- sb>,height=</c-><c- si>${</c->h<c- si>}</c-><c- sb>\`);</c->
<c- sb>}</c->
</pre>
   <h4 class="heading settled" data-level="1.2.6" id="usage-overview-initiate-multi-screen-experiences"><span class="secno">1.2.6. </span><span class="content">Initiate multi-screen experiences</span><a class="self-link" href="#usage-overview-initiate-multi-screen-experiences"></a></h4>
   <p>A commonly requested multi-screen use case is to initiate a compelling multi-screen experience from a single user activation. One specific proposed form is permitting a site to <a href="#usage-overview-place-fullscreen-content-on-a-specific-screen">§ 1.2.4 Place fullscreen content on a specific screen</a> and <a href="#usage-overview-place-windows-on-a-specific-screen">§ 1.2.5 Place windows on a specific screen</a> from a single user gesture. This can be accomplished by first requesting fullscreen on a specific screen of a multi-screen device, and then opening a popup window on another screen of the device, in a single event listener.</p>
<pre class="language-js highlight">initiateMultiScreenExperienceButton<c- p>.</c->addEventListener<c- p>(</c-><c- t>'click'</c-><c- p>,</c-> <c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// Find the primary screen, show some content fullscreen there.</c->
  <c- a>const</c-> primaryScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s<c- p>.</c->isPrimary<c- p>);</c->
  <c- k>await</c-> document<c- p>.</c->documentElement<c- p>.</c->requestFullscreen<c- p>({</c->screen <c- o>:</c-> primaryScreen<c- p>});</c->

  <c- c1>// Find a different screen, fill its available area with a new window.</c->
  <c- a>const</c-> otherScreen <c- o>=</c-> screenDetails<c- p>.</c->screens<c- p>.</c->find<c- p>(</c->s <c- p>=></c-> s <c- o>!==</c-> primaryScreen<c- p>);</c->
  window<c- p>.</c->open<c- p>(</c->url<c- p>,</c-> <c- t>'_blank'</c-><c- p>,</c-> \<c- sb>`left=</c-><c- si>${</c->otherScreen<c- p>.</c->availLeft<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`top=</c-><c- si>${</c->otherScreen<c- p>.</c->availTop<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`width=</c-><c- si>${</c->otherScreen<c- p>.</c->availWidth<c- si>}</c-><c- sb>,\` +</c->
<c- sb>                             \`height=</c-><c- si>${</c->otherScreen<c- p>.</c->availHeight<c- si>}</c-><c- sb>\`);</c->
<c- sb>});</c->
</pre>
   <h2 class="heading settled" data-level="2" id="concepts"><span class="secno">2. </span><span class="content">Concepts</span><a class="self-link" href="#concepts"></a></h2>
   <p>Concepts in this specification build upon those in the <a href="https://www.w3.org/TR/cssom-view-1/">CSSOM-View-1 Working Draft</a>, and the <a href="https://drafts.csswg.org/cssom-view/">CSSOM-View-1 Editor’s Draft</a>, <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>, and <a data-link-type="biblio" href="#biblio-fullscreen" title="Fullscreen API Standard">[Fullscreen]</a>.</p>
   <h3 class="heading settled" data-level="2.1" id="concept-screen"><span class="secno">2.1. </span><span class="content">Screen</span><a class="self-link" href="#concept-screen"></a></h3>
   <p>A device hosting the user agent has a single <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="screen">screen</dfn> or multiple <a data-link-type="dfn" href="#screen" id="ref-for-screen④">screens</a>, which are used to display visual content. The set of <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤">screens</a> used by a device may change while a user agent is running, reflecting changes in the hardware or software configuration of the device.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Some basic examples of screen configuration changes include connecting a television or projector to a laptop with an HDMI cable, closing the lid of a laptop to disable its built-in LCD panel, and changing the display resolution of a connected LCD computer monitor.</p>
   <div>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥">screen</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-color-depth">color depth</dfn>, which is the <a data-link-type="dfn" href="#pixel-color-depth" id="ref-for-pixel-color-depth">color depth</a> of the screen’s pixels.</p>
    <div class="algorithm" data-algorithm="device pixel ratio">
     <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen⑦">screen</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-device-pixel-ratio">device pixel ratio</dfn>, similar to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-devicepixelratio" id="ref-for-dom-window-devicepixelratio">devicePixelRatio</a></code>, which is the result of the following algorithm:</p>
     <ol>
      <li data-md>
       <p>Let <var>CSS pixel size</var> be the size of a <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px">CSS pixel</a>.</p>
      <li data-md>
       <p>Let <var>device pixel size</var> be the vertical size of a <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels">pixel</a>.</p>
      <li data-md>
       <p>Return the result of dividing <var>CSS pixel size</var> by <var>device pixel size</var>.</p>
     </ol>
    </div>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen⑧">screen</a> has an <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-orientation">orientation</dfn>, which is described in <a data-link-type="biblio" href="#biblio-screen-orientation" title="Screen Orientation">[screen-orientation]</a>.</p>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen⑨">screen</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-label">label</dfn>, which is a string that meaningfully describes the screen to a user to help them identify and differentiate screens.</p>
    <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#screen-label" id="ref-for-screen-label">label</a> can be an arbitrary string selected by the user agent. It could describe the screen relative to the device, e.g. <code>"internal"</code> vs. <code>"external"</code>, it could include the dimensions, e.g. <code>"640×480"</code>, it could include hardware model information, e.g. <code>"Acme Telletube 1000x"</code> from <a href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data">VESA E-EDID</a> data, it could include a distinguishing number, e.g. <code>"screen 1"</code> vs. <code>"screen 2"</code>, or all of the preceding. The label can be an empty string if underlying display details are unknown or the user agent chooses to hide that information. Applications can’t assume that the label contains any specific information, such as the device type, model, dimensions, density, etc.</p>
    <p><strong class="advisement"> While many screen attributes could be used for <a data-link-type="dfn" href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting" id="ref-for-dfn-active-fingerprinting">active fingerprinting</a>, the strings used as <a data-link-type="dfn" href="#screen-label" id="ref-for-screen-label①">labels</a> in particular should be considered carefully to minimize the uniqueness. For example, it would be a poor choice to include the serial number of the device.</strong></p>
    <p class="issue" id="issue-702b01cb"><a class="self-link" href="#issue-702b01cb"></a> Should <a data-link-type="dfn" href="#screen-device-pixel-ratio" id="ref-for-screen-device-pixel-ratio">device pixel ratio</a> include the <a href="https://drafts.csswg.org/cssom-view-1/#page-zoom">page-zoom</a>?</p>
   </div>
   <h3 class="heading settled" data-level="2.2" id="concept-screen-pixel"><span class="secno">2.2. </span><span class="content">Screen pixel</span><a class="self-link" href="#concept-screen-pixel"></a></h3>
   <div>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen①⓪">screen</a> has <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-pixels">pixels</dfn>, which are the smallest screen components that can be programmed directly. Each <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels①">pixel</a> shows one color.</p>
    <p class="note" role="note"><span class="marker">Note:</span> On a liquid-crystal display (LCD), each pixel is made up of three components. Each component is a (red, green, blue) light with variable intensity. Reasoning about pixel components (subpixel rendering) is out of scope for this specification.</p>
    <p class="note" role="note"><span class="marker">Note:</span> Some screens can be configured to display content at a resolution that differs from the physical hardware’s inherent composition; e.g. a monitor with a hardware resolution of 2560×1440 can be configured by the device to operate with a display resolution of 1920×1080.</p>
    <p>A <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels②">pixel</a> has a <dfn class="dfn-paneled" data-dfn-for="pixel" data-dfn-type="dfn" data-noexport id="pixel-color-depth">color depth</dfn>, which is the number of bits used to represent the colors it can display.</p>
    <p class="note" role="note"><span class="marker">Note:</span> Some popular rendering systems model <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels③">pixels</a> as having a <a data-link-type="dfn" href="#pixel-color-depth" id="ref-for-pixel-color-depth①">color depth</a> of 24. These 3 groups of 8 bits represent the intensity of the (red, green, blue) subpixels of an LCD <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels④">pixel</a>.</p>
   </div>
   <h3 class="heading settled" data-level="2.3" id="concept-screen-area"><span class="secno">2.3. </span><span class="content">Screen area</span><a class="self-link" href="#concept-screen-area"></a></h3>
   <div>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen①①">screen</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-screen-area">screen area</dfn>, which is a rectangular two-dimensional grid of <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels⑤">pixels</a>, used to present visual content from the operating system and client applications to the user. This corresponds to the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area" id="ref-for-web-exposed-screen-area">Web-exposed screen area</a> of a particular <a data-link-type="dfn" href="#screen" id="ref-for-screen①②">screen</a>.</p>
    <p>A <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area">screen area</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-width">width</dfn>, which is the number of <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels⑥">pixels</a> along the horizontal dimension of the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area①">screen area</a>'s rectangular pixel grid.</p>
    <p>A <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area②">screen area</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-height">height</dfn>, which is the number of <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels⑦">pixels</a> along the vertical dimension of the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area③">screen area</a>'s rectangular pixel grid.</p>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> The grid size is usually expressed as &lt;<a data-link-type="dfn" href="#screen-width" id="ref-for-screen-width">width</a>>×&lt;<a data-link-type="dfn" href="#screen-height" id="ref-for-screen-height">height</a>>. For example, a 1920×1080 screen area has a grid with a <a data-link-type="dfn" href="#screen-width" id="ref-for-screen-width①">width</a> of 1920 pixels and a <a data-link-type="dfn" href="#screen-height" id="ref-for-screen-height①">height</a> of 1080 pixels.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As specified in <a href="https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-information"><cite>CSSOM View</cite> § 2.3 Web-exposed screen information</a>, user agents may choose to hide information about the screen of the output device in order to protect the user’s privacy. In this case, the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area④">screen area</a> may be equal to that of the <a href="https://drafts.csswg.org/css2/#viewport">viewport</a>.</p>
   <h3 class="heading settled" data-level="2.4" id="concept-available-screen-area"><span class="secno">2.4. </span><span class="content">Available screen area</span><a class="self-link" href="#concept-available-screen-area"></a></h3>
   <div>
    <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen①③">screen</a> has an <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-screen-area">available screen area</dfn>, which is a rectangular subset of the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑤">screen area</a> where the operating system permits web application window placements. The rectangle’s edges are parallel to the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑥">screen area</a> edges. This region does not include any portions of the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑦">screen area</a> that are reserved by the operating system for its own user interface elements, such as taskbars and menu bars. This equates to the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area" id="ref-for-web-exposed-available-screen-area">Web-exposed available screen area</a> of a particular <a data-link-type="dfn" href="#screen" id="ref-for-screen①④">screen</a>.</p>
    <p>The <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-width">available width</dfn> of a <a data-link-type="dfn" href="#screen" id="ref-for-screen①⑤">screen</a> is the number of <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels⑧">pixels</a> along the horizontal dimension of the <a data-link-type="dfn" href="#screen-available-screen-area" id="ref-for-screen-available-screen-area">available screen area</a>'s rectangular pixel grid.</p>
    <p>The <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-height">available height</dfn> of a <a data-link-type="dfn" href="#screen" id="ref-for-screen①⑥">screen</a> is the number of <a data-link-type="dfn" href="#screen-pixels" id="ref-for-screen-pixels⑨">pixels</a> along the vertical dimension of the <a data-link-type="dfn" href="#screen-available-screen-area" id="ref-for-screen-available-screen-area①">available screen area</a>'s rectangular pixel grid.</p>
   </div>
   <h3 class="heading settled" data-level="2.5" id="concept-virtual-screen-arrangement"><span class="secno">2.5. </span><span class="content">Virtual screen arrangement</span><a class="self-link" href="#concept-virtual-screen-arrangement"></a></h3>
   <p>A device has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-screen-arrangement">virtual screen arrangement</dfn> that defines the relative placement of <a data-link-type="dfn" href="#screen" id="ref-for-screen①⑦">screens</a> that comprise the overall visual environment of the device. The arrangement is commonly composed on a two-dimensional plane extending in all directions, with (x, y)-coordinates that increase rightwards and downwards respectively from the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="multi-screen-origin">multi-screen origin</dfn>. The <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin">multi-screen origin</a> is an implementation-defined point that defines the (0, 0) coordinate of the <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement">virtual screen arrangement</a>.</p>
   <p>A common convention is to set the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①">multi-screen origin</a> to the top-left of the <a data-link-type="dfn" href="#primary" id="ref-for-primary">primary</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen①⑧">screen</a>, but it can be any arbitrary point within the <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement①">virtual screen arrangement</a>. Every <a data-link-type="dfn" href="#screen" id="ref-for-screen①⑨">screen</a>'s <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑧">screen area</a> is a view onto a rectangular subset of the <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement②">virtual screen arrangement</a>.</p>
   <p>This diagram shows some examples of how multiple <a data-link-type="dfn" href="#screen" id="ref-for-screen②⓪">screens</a> might be arranged within a <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement③">virtual screen arrangement</a>, along with some potential <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin②">multi-screen origins</a>:</p>
   <p><img alt="Diagram showing various examples of screens and multi-screen origins" src="multi_screen_origin.svg"></p>
   <p class="note" role="note"><span class="marker">Note:</span> The <a href="https://www.w3.org/community/webscreens/">Second Screen Community Group</a>'s <a href="https://webscreens.github.io/form-factors/">Form Factors Explained</a> draft report explores related terminology and conceptual models.</p>
   <h3 class="heading settled" data-level="2.6" id="concept-screen-position"><span class="secno">2.6. </span><span class="content">Screen position</span><a class="self-link" href="#concept-screen-position"></a></h3>
   <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen②①">screen</a> has a <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-screen-position">screen position</dfn> which is the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area⑨">screen area</a>'s (x, y)-coordinates in the <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement④">virtual screen arrangement</a> relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin③">multi-screen origin</a>. Coordinates may be negative, and are typically expressed as (<var>x</var>, <var>y</var>).</p>
   <h3 class="heading settled" data-level="2.7" id="concept-available-screen-position"><span class="secno">2.7. </span><span class="content">Available screen position</span><a class="self-link" href="#concept-available-screen-position"></a></h3>
   <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen②②">screen</a> has an <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-available-screen-position">available screen position</dfn> which is the <a data-link-type="dfn" href="#screen-available-screen-area" id="ref-for-screen-available-screen-area②">available screen area</a>'s (x, y)-coordinates in the <a data-link-type="dfn" href="#virtual-screen-arrangement" id="ref-for-virtual-screen-arrangement⑤">virtual screen arrangement</a> relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin④">multi-screen origin</a>. Coordinates may be negative, and are typically expressed as (<var>x</var>, <var>y</var>).</p>
   <h3 class="heading settled" data-level="2.8" id="concept-primary-screen"><span class="secno">2.8. </span><span class="content">Primary screen</span><a class="self-link" href="#concept-primary-screen"></a></h3>
   <p>The device hosting the user agent has exactly one <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary">primary</dfn> <a data-link-type="dfn" href="#screen" id="ref-for-screen②③">screen</a>. All the other <a data-link-type="dfn" href="#screen" id="ref-for-screen②④">screens</a> are considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="secondary">secondary</dfn>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The primary screen typically hosts the operating system’s user interface for task management, such as the Windows taskbar and the macOS Dock.</p>
   <p>A <a data-link-type="dfn" href="#screen" id="ref-for-screen②⑤">screen</a>'s designation as <a data-link-type="dfn" href="#primary" id="ref-for-primary①">primary</a> or <a data-link-type="dfn" href="#secondary" id="ref-for-secondary">secondary</a> may change while the user agent is running.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Most operating systems let the user choose the primary screen using a management user interface, such as the Windows Control Panel and the macOS Preferences application.</p>
   <h3 class="heading settled" data-level="2.9" id="concept-internal-screen"><span class="secno">2.9. </span><span class="content">Internal screen</span><a class="self-link" href="#concept-internal-screen"></a></h3>
   <p>Each <a data-link-type="dfn" href="#screen" id="ref-for-screen②⑥">screen</a> may be designated as <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="internal">internal</dfn> or <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="external">external</dfn>.</p>
   <p><a data-link-type="dfn" href="#external" id="ref-for-external">External</a> screens are manufactured separately from devices that provide their visual output. It is not unusual for an <a data-link-type="dfn" href="#external" id="ref-for-external①">external</a> screen to be disconnected from one device and connected to a different device.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As an example, a desktop computer might display its visual output on an <a data-link-type="dfn" href="#external" id="ref-for-external②">external</a> screen connected by an HDMI cable. The HDMI cable can be connected or disconnected while the computer is in use, and the computer will adapt its visual environment to that hardware configuration change.</p>
   <p><a data-link-type="dfn" href="#internal" id="ref-for-internal">Internal</a> screens are usually attached to a device at manufacturing time. <a data-link-type="dfn" href="#internal" id="ref-for-internal①">Internal</a> screens are not intended to be detached by users. However an <a data-link-type="dfn" href="#internal" id="ref-for-internal②">internal</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen②⑦">screen</a> can still be enabled or disabled while the user agent is running.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As an example, a laptop might disable its <a data-link-type="dfn" href="#internal" id="ref-for-internal③">internal</a> screen and input device when the lid is closed. The laptop can still be used in this configuration with an <a data-link-type="dfn" href="#external" id="ref-for-external③">external</a> screen and input device. The disabled <a data-link-type="dfn" href="#internal" id="ref-for-internal④">internal</a> screen can not be reported as a <a data-link-type="dfn" href="#screen" id="ref-for-screen②⑧">screen</a> used by the device while the lid is closed.</p>
   <h3 class="heading settled" data-level="2.10" id="concept-current-screen"><span class="secno">2.10. </span><span class="content">Current screen</span><a class="self-link" href="#concept-current-screen"></a></h3>
   <p>Scripts executing in a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code> context can access the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen">screen</a></code> attribute. That <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen②⑨">Screen</a></code> object reflects properties of the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="current-screen">current screen</dfn>, which is the <a data-link-type="dfn" href="#screen" id="ref-for-screen③⓪">screen</a> that is currently presenting the window.</p>
   <p class="note" role="note"><span class="marker">Note:</span> On many operating systems, a window can be presented across multiple screens with different properties, or can be in a "hidden" state and not presented on any screen. Operating systems and user agents are assumed to define a canonical screen for a given <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>, for example the screen with the largest area intersecting the window.</p>
   <h3 class="heading settled" data-level="2.11" id="concept-observable-screen-properties"><span class="secno">2.11. </span><span class="content">Observable screen properties</span><a class="self-link" href="#concept-observable-screen-properties"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-basic-observable-properties">basic observable properties</dfn> of a <a data-link-type="dfn" href="#screen" id="ref-for-screen③①">screen</a> are:</p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#screen-width" id="ref-for-screen-width②">width</a> and <a data-link-type="dfn" href="#screen-height" id="ref-for-screen-height②">height</a> of the <a data-link-type="dfn" href="#screen-screen-area" id="ref-for-screen-screen-area①⓪">screen area</a></p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#screen-available-width" id="ref-for-screen-available-width">available width</a> and <a data-link-type="dfn" href="#screen-available-height" id="ref-for-screen-available-height">available height</a> of the <a data-link-type="dfn" href="#screen-available-screen-area" id="ref-for-screen-available-screen-area③">available screen area</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-color-depth" id="ref-for-screen-color-depth">color depth</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-orientation" id="ref-for-screen-orientation">orientation</a></p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-for="screen" data-dfn-type="dfn" data-noexport id="screen-advanced-observable-properties">advanced observable properties</dfn> of a <a data-link-type="dfn" href="#screen" id="ref-for-screen③②">screen</a> are:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position">screen position</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-available-screen-position" id="ref-for-screen-available-screen-position">available screen position</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-device-pixel-ratio" id="ref-for-screen-device-pixel-ratio①">device pixel ratio</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#screen-label" id="ref-for-screen-label②">label</a></p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#screen" id="ref-for-screen③③">screen</a>'s designation as <a data-link-type="dfn" href="#primary" id="ref-for-primary②">primary</a> or <a data-link-type="dfn" href="#secondary" id="ref-for-secondary①">secondary</a></p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#screen" id="ref-for-screen③④">screen</a>'s designation as <a data-link-type="dfn" href="#internal" id="ref-for-internal⑤">internal</a> or <a data-link-type="dfn" href="#external" id="ref-for-external④">external</a></p>
   </ul>
   <h2 class="heading settled" data-level="3" id="api"><span class="secno">3. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="api-extensions-to-screen"><span class="secno">3.1. </span><span class="content">Extensions to the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen③⑤">Screen</a></code> interface</span><a class="self-link" href="#api-extensions-to-screen"></a></h3>
   <p>The <a data-link-type="biblio" href="#biblio-cssom-view-1" title="CSSOM View Module">CSSOM View Module</a> specification defines the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen③⑥">Screen</a></code> interface, which this specification extends:</p>
   <div class="domintro note" role="note">
    <dl>
     <dt data-md><var>window</var> . <var>screen</var> . <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended②">isExtended</a></code>
     <dd data-md>
      <p>Returns <code>true</code> if the device’s visual output extends over multiple screens.</p>
     <dt data-md><var>window</var> . <var>screen</var> . <code class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange">onchange</a></code>
     <dd data-md>
      <p>Fired when the window’s screen or attributes thereof change.</p>
    </dl>
   </div>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen③⑦"><c- g>Screen</c-></a> /* : EventTarget */ {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended③"><c- g>isExtended</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange①"><c- g>onchange</c-></a>;
};
</pre>
   <p class="issue" id="issue-288178db"><a class="self-link" href="#issue-288178db"></a> Make <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen③⑧">Screen</a></code> derive from <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a></code> in <a href="https://drafts.csswg.org/cssom-view-1/#the-screen-interface"><cite>CSSOM View</cite> § 4.3 The Screen Interface</a>.</p>
   <h4 class="heading settled" data-level="3.1.1" id="api-screen-isExtended-attribute"><span class="secno">3.1.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended④">isExtended</a></code> attribute</span><a class="self-link" href="#api-screen-isExtended-attribute"></a></h4>
   <div class="algorithm" data-algorithm="isExtended" data-algorithm-for="Screen">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Screen" data-dfn-type="attribute" data-export id="dom-screen-isextended"><code>isExtended</code></dfn> getter steps are:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a> named "<code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management">window-management</a></code>", return false and abort these steps.</p>
     <li data-md>
      <p>Return true if the device has more than one <a data-link-type="dfn" href="#screen" id="ref-for-screen③⑨">screen</a>, and false otherwise.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.1.2" id="api-screen-onchange-attribute"><span class="secno">3.1.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange②">onchange</a></code> attribute</span><a class="self-link" href="#api-screen-onchange-attribute"></a></h4>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Screen" data-dfn-type="attribute" data-export id="dom-screen-onchange"><code>onchange</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attribute</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event type</a> is <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screen-change" id="ref-for-eventdef-screen-change①">change</a></code>.</p>
   <p>When any <a data-link-type="dfn" href="#screen-basic-observable-properties" id="ref-for-screen-basic-observable-properties">basic observable property</a> of a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code> <var>window</var>’s <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen">current screen</a> changes, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> of <var>window</var> using the <a data-link-type="dfn" href="#window-placement-task-source" id="ref-for-window-placement-task-source">window placement task source</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fire an event</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="Screen" data-dfn-type="event" data-export id="eventdef-screen-change"><code>change</code></dfn> at the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen④⓪">Screen</a></code> object referenced by <var>window</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen①">screen</a></code> attribute.</p>
   <h3 class="heading settled" data-level="3.2" id="api-extensions-to-window"><span class="secno">3.2. </span><span class="content">Extensions to the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑤">Window</a></code> interface</span><a class="self-link" href="#api-extensions-to-window"></a></h3>
   <p>The <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> standard defines the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥">Window</a></code> interface, which this specification extends:</p>
   <div class="domintro note" role="note">
    <dl>
     <dt data-md><var>window</var> . <code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails①">getScreenDetails()</a></code>
     <dd data-md>
      <p>Returns a promise that fulfills with a <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails②">ScreenDetails</a></code> object with information about the device’s screens. The promise will be rejected if permission is denied.</p>
    </dl>
   </div>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑦"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#screendetails" id="ref-for-screendetails③"><c- n>ScreenDetails</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails②"><c- g>getScreenDetails</c-></a>();
};
</pre>
   <h4 class="heading settled" data-level="3.2.1" id="api-window-getScreenDetails-method"><span class="secno">3.2.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails③">getScreenDetails()</a></code> method</span><a class="self-link" href="#api-window-getScreenDetails-method"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails④">getScreenDetails()</a></code> method completes asynchronously, queuing work on the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="window-placement-task-source">window placement task source</dfn>.</p>
   <p>Instances of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code> are created with an <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots">internal slot</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export id="dom-window-screendetails-slot"><code>[[screenDetails]]</code></dfn>, which is created with an initial value of <code>undefined</code>.</p>
   <div class="algorithm" data-algorithm="getScreenDetails()" data-algorithm-for="Window">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="method" data-export id="dom-window-getscreendetails"><code>getScreenDetails()</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a> named "<code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management①">window-management</a></code>", then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code> and abort these steps.</p>
     <li data-md>
      <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>permissionState</var> be <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use">request permission to use</a> "<code class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management">window-management</a></code>".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a> using the <a data-link-type="dfn" href="#window-placement-task-source" id="ref-for-window-placement-task-source①">window placement task source</a> to run the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>permissionState</var> is "<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>", then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">"NotAllowedError"</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> and abort these steps.</p>
         <li data-md>
          <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot">[[screenDetails]]</a></code> is <code>undefined</code>, then set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot①">[[screenDetails]]</a></code> to a new <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails④">ScreenDetails</a></code> object.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot②">[[screenDetails]]</a></code>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <var>promise</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.2.2" id="api-window-attribute-and-method-definition-changes"><span class="secno">3.2.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑨">Window</a></code> attribute and method definition changes</span><a class="self-link" href="#api-window-attribute-and-method-definition-changes"></a></h4>
   <p>The following <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⓪">Window</a></code> attributes and method definitions are updated to return and interpret values relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin⑤">multi-screen origin</a>:</p>
   <ul>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screenx" id="ref-for-dom-window-screenx">screenX</a></code> and <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft" id="ref-for-dom-window-screenleft">screenLeft</a></code> attributes must return the x-coordinate, relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin⑥">multi-screen origin</a>, of the left of the client window as number of <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px①">CSS pixels</a>, or zero if there is no such thing.</p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screeny" id="ref-for-dom-window-screeny">screenY</a></code> and <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screentop" id="ref-for-dom-window-screentop">screenTop</a></code> attributes must return the y-coordinate, relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin⑦">multi-screen origin</a>, of the top of the client window as number of <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#px" id="ref-for-px②">CSS pixels</a>, or zero if there is no such thing.</p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto①">moveTo()</a></code> steps must interpret <code>x</code> and <code>y</code> arguments to be specified relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin⑧">multi-screen origin</a>.</p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open①">open()</a></code> steps must interpret <code>"left"</code> and <code>"top"</code> feature values to be specified relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin⑨">multi-screen origin</a>.</p>
   </ul>
   <h4 class="heading settled" data-level="3.2.3" id="api-window-open-method-definition-changes"><span class="secno">3.2.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open②">Window.open()</a></code> method definition changes</span><a class="self-link" href="#api-window-open-method-definition-changes"></a></h4>
   <p>Instances of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①①">Window</a></code> are created with an <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots①">internal slot</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export id="dom-window-targetscreenfullscreen-slot"><code>[[targetScreenFullscreen]]</code></dfn>, which has a data model equivalent to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#last-activation-timestamp" id="ref-for-last-activation-timestamp">last activation timestamp</a>. It corresponds to a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code> value except for two cases: positive infinity indicates that the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①②">Window</a></code> has never been activated, while negative infinity indicates that a user activation-gated API (see <a href="https://html.spec.whatwg.org/multipage/interaction.html#user-activation-gated-apis"><cite>HTML</cite> § 6.4.3 APIs gated by user activation</a>) has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation" id="ref-for-consume-user-activation">consumed</a> the last user activation of the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①③">Window</a></code>. The initial value is positive infinity.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open③">Window.open()</a></code> method steps, and the steps of methods invoked therein, are updated to optionally:</p>
   <ol>
    <li data-md>
     <p>Waive the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a> state requirement when the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time">current high resolution time</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a> is greater than or equal to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot">[[targetScreenFullscreen]]</a></code>, and less than <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot①">[[targetScreenFullscreen]]</a></code> plus the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#transient-activation-duration" id="ref-for-transient-activation-duration">transient activation duration</a>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot②">[[targetScreenFullscreen]]</a></code> to negative infinity immediately after following the steps to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation" id="ref-for-consume-user-activation①">consume user activation</a>.</p>
   </ol>
   <h3 class="heading settled" data-level="3.3" id="api-screendetails-interface"><span class="secno">3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑤">ScreenDetails</a></code> interface</span><a class="self-link" href="#api-screendetails-interface"></a></h3>
   <div class="domintro note" role="note">
    <dl>
     <dt data-md><var>screenDetails</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens">screens</a></code>
     <dd data-md>
      <p>Returns an array of <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed②">ScreenDetailed</a></code> objects that describe each of the screens.</p>
     <dt data-md><var>screenDetails</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen">currentScreen</a></code>
     <dd data-md>
      <p>Returns a <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed③">ScreenDetailed</a></code> object that describes the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①">current screen</a>. This object describes the same <a data-link-type="dfn" href="#screen" id="ref-for-screen④①">screen</a> as <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①④">Window</a></code>.<code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen②">screen</a></code>, but provides a superset of the information.</p>
     <dt data-md><var>screenDetails</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange">onscreenschange</a></code>
     <dd data-md>
      <p>Fired when the set of <a data-link-type="dfn" href="#screen" id="ref-for-screen④②">screens</a> changes; i.e. when a <a data-link-type="dfn" href="#screen" id="ref-for-screen④③">screen</a> is added or removed.</p>
     <dt data-md><var>screenDetails</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange">oncurrentscreenchange</a></code>
     <dd data-md>
      <p>Fired when the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen②">current screen</a> or an attribute thereof changes; i.e. when the window moves to another <a data-link-type="dfn" href="#screen" id="ref-for-screen④④">screen</a>, or a property of the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen③">current screen</a> changes.</p>
    </dl>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="screendetails"><code><c- g>ScreenDetails</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed④"><c- n>ScreenDetailed</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<ScreenDetailed>" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens①"><c- g>screens</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed⑤"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScreenDetailed" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen①"><c- g>currentScreen</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange①"><c- g>onscreenschange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange①"><c- g>oncurrentscreenchange</c-></a>;
};
</pre>
   <h4 class="heading settled" data-level="3.3.1" id="api-screendetails-screens-attribute"><span class="secno">3.3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens②">screens</a></code> attribute</span><a class="self-link" href="#api-screendetails-screens-attribute"></a></h4>
   <div class="algorithm" data-algorithm="screens" data-algorithm-for="ScreenDetails">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export id="dom-screendetails-screens"><code>screens</code></dfn> getter steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>screens</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>.</p>
     <li data-md>
      <p>For each <var>screen</var> of the device’s <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑤">screens</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>a</var> be the <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑥">ScreenDetailed</a></code> object describing <var>screen</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>a</var> to <var>screens</var>.</p>
      </ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order">sorting</a> <var>screens</var> in ascending order with the <a data-link-type="dfn" href="#screen-ordering" id="ref-for-screen-ordering">screen ordering</a> algorithm.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="screen ordering">
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="screen-ordering">screen ordering</dfn> algorithm defines a <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑥">screen</a> <var>a</var> as less than a <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑦">screen</a> <var>b</var> if the following steps return true:</p>
    <ol>
     <li data-md>
      <p>If <var>a</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position①">screen position</a> x-coordinate is less than <var>b</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position②">screen position</a> x-coordinate, then return true.</p>
     <li data-md>
      <p>If <var>b</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position③">screen position</a> x-coordinate is less than <var>a</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position④">screen position</a> x-coordinate, then return false.</p>
     <li data-md>
      <p>If <var>a</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position⑤">screen position</a> y-coordinate is less than <var>b</var>’s <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position⑥">screen position</a> y-coordinate, then return true.</p>
     <li data-md>
      <p>Otherwise, return false.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.3.2" id="api-screendetails-currentscreen-attribute"><span class="secno">3.3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen②">currentScreen</a></code> attribute</span><a class="self-link" href="#api-screendetails-currentscreen-attribute"></a></h4>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export id="dom-screendetails-currentscreen"><code>currentScreen</code></dfn> getter steps are to return the <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑦">ScreenDetailed</a></code> object in <code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens③">screens</a></code> representing the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen④">current screen</a> of the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑤">Window</a></code> object associated with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Which exact <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑧">ScreenDetailed</a></code> object in <code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens④">screens</a></code> represents the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑤">current screen</a> of a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑥">Window</a></code> is assumed to be defined by operating systems and user agents. This corresponds with <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑦">Window</a></code>.<code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-screen" id="ref-for-dom-window-screen③">screen</a></code>, the canonical screen for a given window, for example the screen with the largest area intersecting the window.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen③">currentScreen</a></code> is guaranteed to be <code>===</code> comparable with one of the entries in <code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens⑤">screens</a></code>, to facilitate such comparisons, e.g. <code>screenDetails.screens.find(s => s !== screenDetails.currentScreen);</code>. That precludes <code class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen④">currentScreen</a></code> from being marked <code>[SameObject]</code>. Relatedly, <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetailed-change" id="ref-for-eventdef-screendetailed-change">change</a></code> event listeners added to <code class="idl"><a data-link-type="idl" href="#dom-screendetails-currentscreen" id="ref-for-dom-screendetails-currentscreen⑤">currentScreen</a></code> will only be notified of changes for that specific <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑧">screen</a>, while <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-currentscreenchange" id="ref-for-eventdef-screendetails-currentscreenchange">currentscreenchange</a></code> event listeners will be notified of changes for whichever <a data-link-type="dfn" href="#screen" id="ref-for-screen④⑨">screen</a> happens to be the window’s <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑥">current screen</a>, i.e. after the window moves from one <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⓪">screen</a> to another.</p>
   <h4 class="heading settled" data-level="3.3.3" id="api-screendetails-onscreenschange-attribute"><span class="secno">3.3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screendetails-onscreenschange" id="ref-for-dom-screendetails-onscreenschange②">onscreenschange</a></code> attribute</span><a class="self-link" href="#api-screendetails-onscreenschange-attribute"></a></h4>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export id="dom-screendetails-onscreenschange"><code>onscreenschange</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes①">event handler IDL attribute</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event type</a> is <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-screenschange" id="ref-for-eventdef-screendetails-screenschange">screenschange</a></code>.</p>
   <p>When the set of <code class="idl"><a data-link-type="idl" href="#dom-screendetails-screens" id="ref-for-dom-screendetails-screens⑥">screens</a></code> of a <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑥">ScreenDetails</a></code> object <var>screenDetails</var> changes, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a> of <var>screenDetails</var> using the <a data-link-type="dfn" href="#window-placement-task-source" id="ref-for-window-placement-task-source②">window placement task source</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">fire an event</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="event" data-export id="eventdef-screendetails-screenschange"><code>screenschange</code></dfn> at <var>screenDetails</var>.</p>
   <h4 class="heading settled" data-level="3.3.4" id="api-screendetails-oncurrentscreenchange-attribute"><span class="secno">3.3.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screendetails-oncurrentscreenchange" id="ref-for-dom-screendetails-oncurrentscreenchange②">oncurrentscreenchange</a></code> attribute</span><a class="self-link" href="#api-screendetails-oncurrentscreenchange-attribute"></a></h4>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="attribute" data-export id="dom-screendetails-oncurrentscreenchange"><code>oncurrentscreenchange</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes②">event handler IDL attribute</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event type</a> is <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-screendetails-currentscreenchange" id="ref-for-eventdef-screendetails-currentscreenchange①">currentscreenchange</a></code>.</p>
   <p>When the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑦">current screen</a> of a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑧">Window</a></code> <var>window</var> changes from one <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤①">screen</a> to another (e.g. the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⑨">Window</a></code> has been moved to a different display), or when any <a data-link-type="dfn" href="#screen-basic-observable-properties" id="ref-for-screen-basic-observable-properties①">basic observable property</a> or <a data-link-type="dfn" href="#screen-advanced-observable-properties" id="ref-for-screen-advanced-observable-properties">advanced observable property</a> of the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑧">current screen</a> of <var>window</var> changes, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑥">relevant global object</a> of <var>window</var> using the <a data-link-type="dfn" href="#window-placement-task-source" id="ref-for-window-placement-task-source③">window placement task source</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">fire an event</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetails" data-dfn-type="event" data-export id="eventdef-screendetails-currentscreenchange"><code>currentscreenchange</code></dfn> at the <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑦">ScreenDetails</a></code> object stored in <var>window</var>’s internal slot <code class="idl"><a data-link-type="idl" href="#dom-window-screendetails-slot" id="ref-for-dom-window-screendetails-slot③">[[screenDetails]]</a></code>.</p>
   <h3 class="heading settled" data-level="3.4" id="api-screendetailed-interface"><span class="secno">3.4. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed⑨">ScreenDetailed</a></code> interface</span><a class="self-link" href="#api-screendetailed-interface"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①⓪">ScreenDetailed</a></code> object represents a <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤②">screen</a>.</p>
   <div class="domintro note" role="note">
    <dl>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-availleft" id="ref-for-dom-screendetailed-availleft">availLeft</a></code>
     <dd data-md>
      <p>Returns the distance from the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①⓪">multi-screen origin</a> to the left edge of the available screen area.</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-availtop" id="ref-for-dom-screendetailed-availtop">availTop</a></code>
     <dd data-md>
      <p>Returns the distance from the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①①">multi-screen origin</a> to the top edge of the available screen area.</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-left" id="ref-for-dom-screendetailed-left">left</a></code>
     <dd data-md>
      <p>Returns the distance from the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①②">multi-screen origin</a> to the left edge of the screen area.</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-top" id="ref-for-dom-screendetailed-top">top</a></code>
     <dd data-md>
      <p>Returns the distance from the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①③">multi-screen origin</a> to the top edge of the screen area.</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-isprimary" id="ref-for-dom-screendetailed-isprimary">isPrimary</a></code>
     <dd data-md>
      <p>Returns whether this screen is designated as the 'primary' screen by the OS (otherwise it is a 'secondary' screen).</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-isinternal" id="ref-for-dom-screendetailed-isinternal">isInternal</a></code>
     <dd data-md>
      <p>Returns whether this screen is an 'internal' panel built into the device, like a laptop display (otherwise it is 'external', like a wired monitor).</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-devicepixelratio" id="ref-for-dom-screendetailed-devicepixelratio">devicePixelRatio</a></code>
     <dd data-md>
      <p>Returns the ratio between physical and logical pixels.</p>
     <dt data-md><var>screenDetailed</var> . <code class="idl"><a data-link-type="idl" href="#dom-screendetailed-label" id="ref-for-dom-screendetailed-label">label</a></code>
     <dd data-md>
      <p>A user-friendly label for the screen, determined by the user agent and OS.</p>
    </dl>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="screendetailed"><code><c- g>ScreenDetailed</c-></code></dfn> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen⑤③"><c- n>Screen</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availleft" id="ref-for-dom-screendetailed-availleft①"><c- g>availLeft</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availtop" id="ref-for-dom-screendetailed-availtop①"><c- g>availTop</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long②"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-left" id="ref-for-dom-screendetailed-left①"><c- g>left</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long③"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-top" id="ref-for-dom-screendetailed-top①"><c- g>top</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isprimary" id="ref-for-dom-screendetailed-isprimary①"><c- g>isPrimary</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isinternal" id="ref-for-dom-screendetailed-isinternal①"><c- g>isInternal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float"><c- b>float</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="float" href="#dom-screendetailed-devicepixelratio" id="ref-for-dom-screendetailed-devicepixelratio①"><c- g>devicePixelRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-screendetailed-label" id="ref-for-dom-screendetailed-label①"><c- g>label</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-availleft"><code>availLeft</code></dfn> getter steps are to return the x-coordinate of the <a data-link-type="dfn" href="#screen-available-screen-position" id="ref-for-screen-available-screen-position①">available screen position</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤④">screen</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-availtop"><code>availTop</code></dfn> getter steps are to return the y-coordinate of the <a data-link-type="dfn" href="#screen-available-screen-position" id="ref-for-screen-available-screen-position②">available screen position</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑤">screen</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-left"><code>left</code></dfn> getter steps are to return the x-coordinate of the <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position⑦">screen position</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑥">screen</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-top"><code>top</code></dfn> getter steps are to return the y-coordinate of the <a data-link-type="dfn" href="#screen-screen-position" id="ref-for-screen-screen-position⑧">screen position</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑦">screen</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-isprimary"><code>isPrimary</code></dfn> getter steps are to return true if <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑧">screen</a> is the <a data-link-type="dfn" href="#primary" id="ref-for-primary③">primary</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑤⑨">screen</a>, or false otherwise.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-isinternal"><code>isInternal</code></dfn> getter steps are to return true if <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⓪">screen</a> is <a data-link-type="dfn" href="#internal" id="ref-for-internal⑥">internal</a>, or false otherwise.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-devicepixelratio"><code>devicePixelRatio</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#screen-device-pixel-ratio" id="ref-for-screen-device-pixel-ratio②">device pixel ratio</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥①">screen</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-label"><code>label</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#screen-label" id="ref-for-screen-label③">label</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a> <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥②">screen</a>.</p>
   <h4 class="heading settled" data-level="3.4.1" id="api-screendetailed-onchange-attribute"><span class="secno">3.4.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-screendetailed-onchange" id="ref-for-dom-screendetailed-onchange">onchange</a></code> attribute</span><a class="self-link" href="#api-screendetailed-onchange-attribute"></a></h4>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="attribute" data-export id="dom-screendetailed-onchange"><code>onchange</code></dfn> attribute is the <code class="idl"><a data-link-type="idl" href="#dom-screen-onchange" id="ref-for-dom-screen-onchange③">onchange</a></code> attribute inherited from <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen" id="ref-for-screen⑥③">Screen</a></code>.</p>
   <p>When any <a data-link-type="dfn" href="#screen-basic-observable-properties" id="ref-for-screen-basic-observable-properties②">basic observable property</a> or <a data-link-type="dfn" href="#screen-advanced-observable-properties" id="ref-for-screen-advanced-observable-properties①">advanced observable property</a> of a <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥④">screen</a> represented by a <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①①">ScreenDetailed</a></code> object <var>screenDetailed</var> changes, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑦">relevant global object</a> of <var>screenDetailed</var> using the <a data-link-type="dfn" href="#window-placement-task-source" id="ref-for-window-placement-task-source④">window placement task source</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">fire an event</a> named <dfn class="dfn-paneled idl-code" data-dfn-for="ScreenDetailed" data-dfn-type="event" data-export id="eventdef-screendetailed-change"><code>change</code></dfn> at <var>screenDetailed</var>.</p>
   <h3 class="heading settled" data-level="3.5" id="api-extensions-to-fullscreen-options"><span class="secno">3.5. </span><span class="content">Extensions to <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions①">FullscreenOptions</a></code></span><a class="self-link" href="#api-extensions-to-fullscreen-options"></a></h3>
   <div class="domintro note" role="note">
    <dl>
     <dt data-md><var>fullscreenOptions</var> . <code class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen">screen</a></code>
     <dd data-md>
      <p>Specifies a <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⑤">screen</a> for element fullscreen requests.</p>
    </dl>
   </div>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions②"><c- g>FullscreenOptions</c-></a> {
  <a data-link-type="idl-name" href="#screendetailed" id="ref-for-screendetailed①②"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ScreenDetailed " href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen①"><c- g>screen</c-></a>;
};
</pre>
   <p>The optional <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions" id="ref-for-dictdef-fullscreenoptions③">FullscreenOptions</a></code> <dfn class="dfn-paneled idl-code" data-dfn-for="FullscreenOptions" data-dfn-type="dict-member" data-export id="dom-fullscreenoptions-screen"><code>screen</code></dfn> member indicates an application preference to display the element fullscreen on a particular <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⑥">screen</a>. User agents are always free to honor user preference over that of the application. The default value <code>undefined</code> indicates no application preference.</p>
   <h4 class="heading settled" data-level="3.5.1" id="api-element-requestfullscreen-method-definition-changes"><span class="secno">3.5.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen①">Element.requestFullscreen()</a></code> method definition changes</span><a class="self-link" href="#api-element-requestfullscreen-method-definition-changes"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen②">Element.requestFullscreen()</a></code> method steps are updated to optionally:</p>
   <ol>
    <li data-md>
     <p>Take <code>options</code>["<code class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen②">screen</a></code>"] into account when moving and resizing <code>pendingDoc</code>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" id="ref-for-top-level-browsing-context">top-level browsing context</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>’s viewport. The viewport may be moved to the specified <a data-link-type="dfn" href="#screen" id="ref-for-screen⑥⑦">screen</a> as part of this modified method step.</p>
    <li data-md>
     <p>Set the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>.<code class="idl"><a data-link-type="idl" href="#dom-window-targetscreenfullscreen-slot" id="ref-for-dom-window-targetscreenfullscreen-slot③">[[targetScreenFullscreen]]</a></code> internal slot to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time①">current high resolution time</a> if <code>options</code>["<code class="idl"><a data-link-type="idl" href="#dom-fullscreenoptions-screen" id="ref-for-dom-fullscreenoptions-screen③">screen</a></code>"] specifies a recognized <code class="idl"><a data-link-type="idl" href="#screendetailed" id="ref-for-screendetailed①③">ScreenDetailed</a></code> object with a value of true for <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑤">isExtended</a></code>.</p>
   </ol>
   <h3 class="heading settled" data-level="3.6" id="api-permission-api-integration"><span class="secno">3.6. </span><span class="content">Permission API Integration</span><a class="self-link" href="#api-permission-api-integration"></a></h3>
   <p>This specification defines a <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-default-powerful-feature" id="ref-for-dfn-default-powerful-feature">default powerful feature</a> that is identified by the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name">name</a> "<dfn class="dfn-paneled idl-code" data-dfn-type="permission" data-export id="permissiondef-window-management"><code>window-management</code></dfn>".</p>
   <p>The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> API provides a uniform way for websites to query the state of their permissions.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Previously published versions of this document used the permission name <code>"window-placement"</code>. User agents should carefully migrate to the updated permission string: "<code class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management①">window-management</a></code>". See <a href="https://github.com/w3c/window-management/issues/114">#114</a>.</p>
   <p class="issue" id="issue-0a4a425c"><a class="self-link" href="#issue-0a4a425c"></a> Add <code class="idl"><a data-link-type="idl" href="#permissiondef-window-management" id="ref-for-permissiondef-window-management②">window-management</a></code> to <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> registry.</p>
   <p class="issue" id="issue-dc61ea20"><a class="self-link" href="#issue-dc61ea20"></a> Define behavior of cached objects and method steps when the permission is revoked. (See <a href="https://github.com/w3c/window-management/issues/80">#80</a>)</p>
   <h3 class="heading settled" data-level="3.7" id="api-permission-policy-integration"><span class="secno">3.7. </span><span class="content">Permission Policy integration</span><a class="self-link" href="#api-permission-policy-integration"></a></h3>
   <p>This specification defines a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a> identified by the string <dfn class="dfn-paneled idl-code" data-dfn-for="PermissionPolicy" data-dfn-type="enum-value" data-export id="dom-permissionpolicy-window-management"><code>"window-management"</code></dfn>, that controls whether <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑥">isExtended</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails⑤">getScreenDetails</a></code>, and dependent functionality may be used. The <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> for this feature is <code>'self'</code>. See <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[permissions-policy]</a> and its list of <a href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#experimental-features">Experimental Features</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> A <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a>’s permissions policy determines whether any content in that document is allowed to obtain a meaningful value from <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑦">isExtended</a></code>, access <code class="idl"><a data-link-type="idl" href="#screendetails" id="ref-for-screendetails⑧">ScreenDetails</a></code>, or place content on specific screens. If disabled, <code class="idl"><a data-link-type="idl" href="#dom-screen-isextended" id="ref-for-dom-screen-isextended⑧">isExtended</a></code> will return false, promises returned by <code class="idl"><a data-link-type="idl" href="#dom-window-getscreendetails" id="ref-for-dom-window-getscreendetails⑥">getScreenDetails</a></code> will be rejected, and requests to place content on specific screens will be clamped to the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen⑨">current screen</a>.</p>
   <p class="issue" id="issue-10618e39"><a class="self-link" href="#issue-10618e39"></a> Move <code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management" id="ref-for-dom-permissionpolicy-window-management②">window-management</a></code> to <a href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Proposed</a> or <a href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Standardized</a> feature lists when appropriate.</p>
   <h2 class="heading settled" data-level="4" id="security"><span class="secno">4. </span><span class="content">Security Considerations</span><a class="self-link" href="#security"></a></h2>
   <p>This specification enables sites to place content on specific screens, which may pose limited new security risks:</p>
   <ol>
    <li data-md>
     <p>Sites may attempt to prominently display sensitive content on unexpected screens</p>
    <li data-md>
     <p>Sites may attempt to surreptitiously display undesirable content on less conspicuous screens, for example:</p>
    <li data-md>
     <p>Sites may attempt to spoof the OS, browser, or other sites for phishing attacks, by drawing the user’s attention to a particular screen, and use interaction signals there to show deceptive content on another screen that is less closely observed</p>
    <li data-md>
     <p>Sites may attempt to otherwise place content on specific screens to act in deceptive, abusive, or annoying manners</p>
   </ol>
   <p>To help mitigate such risks, cross-screen placement capabilities require express permission in secure contexts, and are subject to <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[permissions-policy]</a>, which prevent third-party access by default.</p>
   <p>User agents can detect cross-screen placement requests, and intervene to protect users from potential abuse. For example, user agents may present prominent security surfaces when sites place content on another screen, or when windows gain user attention after cross-screen placement. Additionally, cross-screen placement requests may be denied or clamped to the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①⓪">current screen</a>, matching pre-existing behavior of some user agents.</p>
   <p>Other points to note:</p>
   <ul>
    <li data-md>
     <p>Some user agents already do not constrain window placement requests to the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①①">current screen</a>; they interpret <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open④">open()</a></code> and <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto②">moveTo()</a></code> coordinates as relative to the <a data-link-type="dfn" href="#multi-screen-origin" id="ref-for-multi-screen-origin①④">multi-screen origin</a>, and honor requests to place windows on screens other than the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①②">current screen</a>.</p>
    <li data-md>
     <p>Transient user activation is typically already required for <code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen" id="ref-for-dom-element-requestfullscreen③">requestFullscreen()</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open⑤">open()</a></code>, but not for <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-moveto" id="ref-for-dom-window-moveto③">moveTo()</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-moveby" id="ref-for-dom-window-moveby">moveBy()</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-resizeto" id="ref-for-dom-window-resizeto">resizeTo()</a></code>, nor <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-window-resizeby" id="ref-for-dom-window-resizeby">resizeBy()</a></code>.</p>
    <li data-md>
     <p>Placing content on a screen other than the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①③">current screen</a> is unlikely to create additional clickjacking risk for users, since the user’s cursor or finger is likely to be co-located with the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①④">current screen</a>, not on a separate screen.</p>
    <li data-md>
     <p>Gating legacy placement capabilities on the specified permission may be feasible.</p>
   </ul>
   <p>See the following additional explorations of security considerations:</p>
   <ul>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy.md">W3C Security and Privacy Self-Review Questionnaire for the overall API</a></p>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/EXPLAINER.md#privacy--security">"Privacy &amp; Security" in the Explainer for the overall API</a></p>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy_initiating_multi_screen_experiences.md">W3C Security and Privacy Self-Review Questionnaire for "Initiating Multi-Screen Experiences"</a></p>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/EXPLAINER_initiating_multi_screen_experiences.md#security-considerations">"Security Considerations" in the Explainer for "Initiating Multi-Screen Experiences"</a></p>
   </ul>
   <h2 class="heading settled" data-level="5" id="privacy"><span class="secno">5. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy"></a></h2>
   <p>This specification exposes new information to sites about screens connected to the device, which may pose limited new privacy risks. This additional information increases the <a href="https://w3c.github.io/fingerprinting-guidance/">fingerprinting</a> surface of devices, especially those with atypical screen configurations.</p>
   <p>To help mitigate such risks, the new information is reduced to the minimum needed for common placement use cases, most access requires express permission in secure contexts, and is subject to <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[permissions-policy]</a>, which prevents third-party access by default. The list of screens exposed has a defined order to reduce interoperability issues and mitigate fingerprinting. User agents can generally measure and otherwise intervene when sites request any new information.</p>
   <p>The <code>Screen.isExtended</code> boolean is exposed without explicit permission checks, as this minimal single bit of information supports some critical features for which a permission prompt would be obtrusive (e.g. show/hide multi-screen UI entry points like “Show on another screen”), and helps avoid unnecessarily prompting single-screen users for inapplicable information and capabilities. This generally follows a TAG design principle for device enumeration (see <a href="https://w3ctag.github.io/design-principles/#device-enumeration">Web Platform Design Principles § device-enumeration</a>).</p>
   <p>Many user agents already effectively expose the presence of multiple screens to windows located on secondary screens, where <code>window.screen.availLeft|Top</code> >> 0. Script access of this bit is a detectable <a data-link-type="dfn" href="https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting" id="ref-for-dfn-active-fingerprinting①">active fingerprinting</a> signal, which may be observed and blocked by the user agent. Additionally, user agents that do not constrain unpermissioned window placement requests to the <a data-link-type="dfn" href="#current-screen" id="ref-for-current-screen①⑤">current screen</a> allow adversaries to attempt programmatic placement on other screens, at which point information about that <code>window.screen</code> is exposed.</p>
   <p>The new <code>Screen.onchange</code> events pose a slight risk by making <a href="https://github.com/asankah/ephemeral-fingerprinting">ephemeral fingerprinting</a> easier, but scripts can already achieve the same result by polling for changes to <code>window.screen</code>. This risk could be partially mitigated by delaying event dispatch for hidden documents until such documents are no longer hidden.</p>
   <p>Alternative API shapes giving less power to sites were considered, but offer poor experiences for users and developers (e.g. prompting users to pick a screen, requiring declarative screen rankings from developers). Few, if any, alternatives exist for non-fullscreen placement of app windows on any connected screen. The specified API shape seems like the most natural extension of existing APIs to support a more complete multi-screen environment. Future work may include ways to query more limited multi-screen information, to let sites voluntarily minimize their information exposure.</p>
   <p>The specified API design enables user agents to selectively expose screens using novel access models, for example limiting screen information and placement capabilities pertaining to screens indicated by the user.</p>
   <p>Other points to note:</p>
   <ul>
    <li data-md>
     <p>Gating legacy screen and window information on the specified permission may be feasible.</p>
   </ul>
   <p>See the following additional explorations of privacy considerations:</p>
   <ul>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy.md">W3C Security and Privacy Self-Review Questionnaire for the overall API</a></p>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/EXPLAINER.md#privacy--security">"Privacy &amp; Security" in the Explainer for the overall API</a></p>
    <li data-md>
     <p><a href="https://github.com/w3c/window-management/blob/main/security_and_privacy_initiating_multi_screen_experiences.md">W3C Security and Privacy Self-Review Questionnaire for "Initiating Multi-Screen Experiences"</a></p>
   </ul>
   <h2 class="heading settled" data-level="6" id="a11y"><span class="secno">6. </span><span class="content">Accessibility Considerations</span><a class="self-link" href="#a11y"></a></h2>
   <p>This specification enables sites to place content on specific screens, which may pose limited new accessibility risks. The visual presentation, non-visual rendering, and effect of assistive technologies on the content itself is not commonly substantially influenced by the placement of content on one screen or another. Still, existing accessibility risks of programmatic content placement may be exacerbated by the expanded areas over which content may be placed. Existing accessibility considerations regarding <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-default-powerful-feature" id="ref-for-dfn-default-powerful-feature①">default powerful feature</a> permission models, prompting methods, and permission-related UIs, are equally pertinent to this particular specification’s permission.</p>
   <p>There are no documented accessibility considerations pertaining to the structured screen information (and accessibility features thereof) exposed by the API at this time.</p>
   <h2 class="heading settled" data-level="7" id="i18n"><span class="secno">7. </span><span class="content">Internationalization Considerations</span><a class="self-link" href="#i18n"></a></h2>
   <p>There are no documented internationalization considerations at this time.</p>
   <h2 class="heading settled" data-level="8" id="acknowledgements"><span class="secno">8. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Many thanks to
Adrienne Walker,
Anssi Kostiainen,
Chris Terefinko,
Domenic Denicola,
Jonathan Garbee,
Kenneth Rohde Christiansen,
L. David Baron,
Lukasz Olejnik,
Marijn Kruisselbrink,
Matt Giuca,
Michael Ketting,
Nadav Sinai,
Peter Linss,
Reilly Grant,
Staphany Park,
Theresa O’Connor,
Thomas Nattestad,
Thomas Steiner, and
Victor Costan
for helping craft this specification.</p>
   <p class="issue" id="issue-e9601204"><a class="self-link" href="#issue-e9601204"></a> Ensure we didn’t forget anyone!</p>
   <p>Special thanks to Tab Atkins, Jr. for creating and maintaining <a href="https://github.com/speced/bikeshed">Bikeshed</a>, the specification authoring tool used to create this document, and for his general authoring advice.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
   </section>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#screen-advanced-observable-properties">advanced observable properties</a><span>, in § 2.11</span>
   <li><a href="#screen-available-height">available height</a><span>, in § 2.4</span>
   <li><a href="#screen-available-screen-area">available screen area</a><span>, in § 2.4</span>
   <li><a href="#screen-available-screen-position">available screen position</a><span>, in § 2.7</span>
   <li><a href="#screen-available-width">available width</a><span>, in § 2.4</span>
   <li><a href="#dom-screendetailed-availleft">availLeft</a><span>, in § 3.4</span>
   <li><a href="#dom-screendetailed-availtop">availTop</a><span>, in § 3.4</span>
   <li><a href="#screen-basic-observable-properties">basic observable properties</a><span>, in § 2.11</span>
   <li>
    change
    <ul>
     <li><a href="#eventdef-screen-change">event for Screen</a><span>, in § 3.1.2</span>
     <li><a href="#eventdef-screendetailed-change">event for ScreenDetailed</a><span>, in § 3.4.1</span>
    </ul>
   <li>
    color depth
    <ul>
     <li><a href="#pixel-color-depth">dfn for pixel</a><span>, in § 2.2</span>
     <li><a href="#screen-color-depth">dfn for screen</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#current-screen">current screen</a><span>, in § 2.10</span>
   <li><a href="#dom-screendetails-currentscreen">currentScreen</a><span>, in § 3.3.2</span>
   <li><a href="#eventdef-screendetails-currentscreenchange">currentscreenchange</a><span>, in § 3.3.4</span>
   <li><a href="#screen-device-pixel-ratio">device pixel ratio</a><span>, in § 2.1</span>
   <li><a href="#dom-screendetailed-devicepixelratio">devicePixelRatio</a><span>, in § 3.4</span>
   <li><a href="#external">external</a><span>, in § 2.9</span>
   <li><a href="#dom-window-getscreendetails">getScreenDetails()</a><span>, in § 3.2.1</span>
   <li><a href="#screen-height">height</a><span>, in § 2.3</span>
   <li><a href="#internal">internal</a><span>, in § 2.9</span>
   <li><a href="#dom-screen-isextended">isExtended</a><span>, in § 3.1.1</span>
   <li><a href="#dom-screendetailed-isinternal">isInternal</a><span>, in § 3.4</span>
   <li><a href="#dom-screendetailed-isprimary">isPrimary</a><span>, in § 3.4</span>
   <li>
    label
    <ul>
     <li><a href="#dom-screendetailed-label">attribute for ScreenDetailed</a><span>, in § 3.4</span>
     <li><a href="#screen-label">dfn for screen</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#dom-screendetailed-left">left</a><span>, in § 3.4</span>
   <li><a href="#multi-screen-origin">multi-screen origin</a><span>, in § 2.5</span>
   <li>
    onchange
    <ul>
     <li><a href="#dom-screen-onchange">attribute for Screen</a><span>, in § 3.1.2</span>
     <li><a href="#dom-screendetailed-onchange">attribute for ScreenDetailed</a><span>, in § 3.4.1</span>
    </ul>
   <li><a href="#dom-screendetails-oncurrentscreenchange">oncurrentscreenchange</a><span>, in § 3.3.4</span>
   <li><a href="#dom-screendetails-onscreenschange">onscreenschange</a><span>, in § 3.3.3</span>
   <li><a href="#screen-orientation">orientation</a><span>, in § 2.1</span>
   <li><a href="#screen-pixels">pixels</a><span>, in § 2.2</span>
   <li><a href="#primary">primary</a><span>, in § 2.8</span>
   <li>
    screen
    <ul>
     <li><a href="#screen">definition of</a><span>, in § 2.1</span>
     <li><a href="#dom-fullscreenoptions-screen">dict-member for FullscreenOptions</a><span>, in § 3.5</span>
    </ul>
   <li><a href="#screen-screen-area">screen area</a><span>, in § 2.3</span>
   <li><a href="#screendetailed">ScreenDetailed</a><span>, in § 3.4</span>
   <li><a href="#dom-window-screendetails-slot">[[screenDetails]]</a><span>, in § 3.2.1</span>
   <li><a href="#screendetails">ScreenDetails</a><span>, in § 3.3</span>
   <li><a href="#screen-ordering">screen ordering</a><span>, in § 3.3.1</span>
   <li><a href="#screen-screen-position">screen position</a><span>, in § 2.6</span>
   <li><a href="#dom-screendetails-screens">screens</a><span>, in § 3.3.1</span>
   <li><a href="#eventdef-screendetails-screenschange">screenschange</a><span>, in § 3.3.3</span>
   <li><a href="#secondary">secondary</a><span>, in § 2.8</span>
   <li><a href="#dom-window-targetscreenfullscreen-slot">[[targetScreenFullscreen]]</a><span>, in § 3.2.3</span>
   <li><a href="#dom-screendetailed-top">top</a><span>, in § 3.4</span>
   <li><a href="#virtual-screen-arrangement">virtual screen arrangement</a><span>, in § 2.5</span>
   <li><a href="#screen-width">width</a><span>, in § 2.3</span>
   <li><a href="#dom-permissionpolicy-window-management">"window-management"</a><span>, in § 3.7</span>
   <li><a href="#permissiondef-window-management">window-management</a><span>, in § 3.6</span>
   <li><a href="#window-placement-task-source">window placement task source</a><span>, in § 3.2.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6c691ee6">css pixel</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="25a2ba89">Screen</span>
     <li><span class="dfn-paneled" id="c0159396">devicePixelRatio</span>
     <li><span class="dfn-paneled" id="157f6644">moveBy(x, y)</span>
     <li><span class="dfn-paneled" id="27215c6e">moveTo(x, y)</span>
     <li><span class="dfn-paneled" id="fd03704d">resizeBy(x, y)</span>
     <li><span class="dfn-paneled" id="887ff352">resizeTo(width, height)</span>
     <li><span class="dfn-paneled" id="575ae654">screen</span>
     <li><span class="dfn-paneled" id="fc3f1924">screenLeft</span>
     <li><span class="dfn-paneled" id="e11b135c">screenTop</span>
     <li><span class="dfn-paneled" id="e4c7b789">screenX</span>
     <li><span class="dfn-paneled" id="6fd8dc47">screenY</span>
     <li><span class="dfn-paneled" id="56acfb7f">web-exposed available screen area</span>
     <li><span class="dfn-paneled" id="ebe350b9">web-exposed screen area</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="a973e0fe">document</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="900ce14b">internal slot</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FINGERPRINTING-GUIDANCE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6777aaf6">active fingerprinting</span>
    </ul>
   <li>
    <a data-link-type="biblio">[Fullscreen]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="543d760f">FullscreenOptions</span>
     <li><span class="dfn-paneled" id="bcdb6841">requestFullscreen()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="7e7cc1d8">current high resolution time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="3349d69f">associated document</span>
     <li><span class="dfn-paneled" id="aca22383">consume user activation</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="03675365">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="3976d3be">last activation timestamp</span>
     <li><span class="dfn-paneled" id="f449d4f8">open(url, target, features)</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="ae2a6342">top-level browsing context</span>
     <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
     <li><span class="dfn-paneled" id="6906895e">transient activation duration</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="95c866a0">sorting</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ba1bd741">default powerful feature</span>
     <li><span class="dfn-paneled" id="2cb28cb0">denied</span>
     <li><span class="dfn-paneled" id="e740d7e5">name</span>
     <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="eec1be2d">float</span>
     <li><span class="dfn-paneled" id="f8de33a3">long</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
   <dd>Simon Pieters. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View Module</cite></a>. URL: <a href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
   <dt id="biblio-design-principles">[DESIGN-PRINCIPLES]
   <dd>Sangwhan Moon. <a href="https://w3ctag.github.io/design-principles/"><cite>Web Platform Design Principles</cite></a>. URL: <a href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-fingerprinting-guidance">[FINGERPRINTING-GUIDANCE]
   <dd>Nick Doty. <a href="https://w3c.github.io/fingerprinting-guidance/"><cite>Mitigating Browser Fingerprinting in Web Specifications</cite></a>. URL: <a href="https://w3c.github.io/fingerprinting-guidance/">https://w3c.github.io/fingerprinting-guidance/</a>
   <dt id="biblio-fullscreen">[Fullscreen]
   <dd>Philip Jägenstedt. <a href="https://fullscreen.spec.whatwg.org/"><cite>Fullscreen API Standard</cite></a>. Living Standard. URL: <a href="https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-screen-orientation">[SCREEN-ORIENTATION]
   <dd>Marcos Caceres. <a href="https://w3c.github.io/screen-orientation/"><cite>Screen Orientation</cite></a>. URL: <a href="https://w3c.github.io/screen-orientation/">https://w3c.github.io/screen-orientation/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://drafts.csswg.org/cssom-view-1/#screen"><c- g>Screen</c-></a> /* : EventTarget */ {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screen-isextended"><c- g>isExtended</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screen-onchange"><c- g>onchange</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#screendetails"><c- n>ScreenDetails</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-window-getscreendetails"><c- g>getScreenDetails</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#screendetails"><code><c- g>ScreenDetails</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<ScreenDetailed>" href="#dom-screendetails-screens"><c- g>screens</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ScreenDetailed" href="#dom-screendetails-currentscreen"><c- g>currentScreen</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-onscreenschange"><c- g>onscreenschange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-screendetails-oncurrentscreenchange"><c- g>oncurrentscreenchange</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#screendetailed"><code><c- g>ScreenDetailed</c-></code></a> : <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-view-1/#screen"><c- n>Screen</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availleft"><c- g>availLeft</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-availtop"><c- g>availTop</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-left"><c- g>left</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-screendetailed-top"><c- g>top</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isprimary"><c- g>isPrimary</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-screendetailed-isinternal"><c- g>isInternal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="float" href="#dom-screendetailed-devicepixelratio"><c- g>devicePixelRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-screendetailed-label"><c- g>label</c-></a>;
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions"><c- g>FullscreenOptions</c-></a> {
  <a data-link-type="idl-name" href="#screendetailed"><c- n>ScreenDetailed</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ScreenDetailed " href="#dom-fullscreenoptions-screen"><c- g>screen</c-></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Should <a data-link-type="dfn" href="#screen-device-pixel-ratio">device pixel ratio</a> include the <a href="https://drafts.csswg.org/cssom-view-1/#page-zoom">page-zoom</a>? <a class="issue-return" href="#issue-702b01cb" title="Jump to section">↵</a></div>
   <div class="issue"> Make <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#screen">Screen</a></code> derive from <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></code> in <a href="https://drafts.csswg.org/cssom-view-1/#the-screen-interface"><cite>CSSOM View</cite> § 4.3 The Screen Interface</a>. <a class="issue-return" href="#issue-288178db" title="Jump to section">↵</a></div>
   <div class="issue"> Add <code class="idl"><a data-link-type="idl" href="#permissiondef-window-management">window-management</a></code> to <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> registry. <a class="issue-return" href="#issue-0a4a425c" title="Jump to section">↵</a></div>
   <div class="issue"> Define behavior of cached objects and method steps when the permission is revoked. (See <a href="https://github.com/w3c/window-management/issues/80">#80</a>) <a class="issue-return" href="#issue-dc61ea20" title="Jump to section">↵</a></div>
   <div class="issue"> Move <code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-window-management">window-management</a></code> to <a href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Proposed</a> or <a href="https://github.com/w3c/webappsec-permissions-policy/blob/main/features.md#proposed-features">Standardized</a> feature lists when appropriate. <a class="issue-return" href="#issue-10618e39" title="Jump to section">↵</a></div>
   <div class="issue"> Ensure we didn’t forget anyone! <a class="issue-return" href="#issue-e9601204" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['6c691ee6'] = {"dfnID": "6c691ee6", "url": "https://drafts.csswg.org/css-values-4/#px", "dfnText": "css pixel", "refSections": [{"refs": [{"id": "ref-for-px"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-px\u2460"}, {"id": "ref-for-px\u2461"}], "title": "3.2.2. Window attribute and method definition changes"}], "external": true};
window.dfnpanelData['25a2ba89'] = {"dfnID": "25a2ba89", "url": "https://drafts.csswg.org/cssom-view-1/#screen", "dfnText": "Screen", "refSections": [{"refs": [{"id": "ref-for-screen"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-screen\u2460"}, {"id": "ref-for-screen\u2461"}, {"id": "ref-for-screen\u2462"}], "title": "1.2.2. Detect Screen attribute changes"}, {"refs": [{"id": "ref-for-screen\u2461\u2468"}], "title": "2.10. Current screen"}, {"refs": [{"id": "ref-for-screen\u2462\u2464"}, {"id": "ref-for-screen\u2462\u2465"}, {"id": "ref-for-screen\u2462\u2466"}, {"id": "ref-for-screen\u2462\u2467"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-screen\u2463\u24ea"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-screen\u2464\u2462"}], "title": "3.4. The ScreenDetailed interface"}, {"refs": [{"id": "ref-for-screen\u2465\u2462"}], "title": "3.4.1. onchange attribute"}], "external": true};
window.dfnpanelData['c0159396'] = {"dfnID": "c0159396", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-devicepixelratio", "dfnText": "devicePixelRatio", "refSections": [{"refs": [{"id": "ref-for-dom-window-devicepixelratio"}], "title": "2.1. Screen"}], "external": true};
window.dfnpanelData['157f6644'] = {"dfnID": "157f6644", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-moveby", "dfnText": "moveBy(x, y)", "refSections": [{"refs": [{"id": "ref-for-dom-window-moveby"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['27215c6e'] = {"dfnID": "27215c6e", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-moveto", "dfnText": "moveTo(x, y)", "refSections": [{"refs": [{"id": "ref-for-dom-window-moveto"}], "title": "1.2.5. Place windows on a specific screen"}, {"refs": [{"id": "ref-for-dom-window-moveto\u2460"}], "title": "3.2.2. Window attribute and method definition changes"}, {"refs": [{"id": "ref-for-dom-window-moveto\u2461"}, {"id": "ref-for-dom-window-moveto\u2462"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['fd03704d'] = {"dfnID": "fd03704d", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-resizeby", "dfnText": "resizeBy(x, y)", "refSections": [{"refs": [{"id": "ref-for-dom-window-resizeby"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['887ff352'] = {"dfnID": "887ff352", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-resizeto", "dfnText": "resizeTo(width, height)", "refSections": [{"refs": [{"id": "ref-for-dom-window-resizeto"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['575ae654'] = {"dfnID": "575ae654", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screen", "dfnText": "screen", "refSections": [{"refs": [{"id": "ref-for-dom-window-screen"}], "title": "2.10. Current screen"}, {"refs": [{"id": "ref-for-dom-window-screen\u2460"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-dom-window-screen\u2461"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-dom-window-screen\u2462"}], "title": "3.3.2. currentScreen attribute"}], "external": true};
window.dfnpanelData['fc3f1924'] = {"dfnID": "fc3f1924", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screenleft", "dfnText": "screenLeft", "refSections": [{"refs": [{"id": "ref-for-dom-window-screenleft"}], "title": "3.2.2. Window attribute and method definition changes"}], "external": true};
window.dfnpanelData['e11b135c'] = {"dfnID": "e11b135c", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screentop", "dfnText": "screenTop", "refSections": [{"refs": [{"id": "ref-for-dom-window-screentop"}], "title": "3.2.2. Window attribute and method definition changes"}], "external": true};
window.dfnpanelData['e4c7b789'] = {"dfnID": "e4c7b789", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screenx", "dfnText": "screenX", "refSections": [{"refs": [{"id": "ref-for-dom-window-screenx"}], "title": "3.2.2. Window attribute and method definition changes"}], "external": true};
window.dfnpanelData['6fd8dc47'] = {"dfnID": "6fd8dc47", "url": "https://drafts.csswg.org/cssom-view-1/#dom-window-screeny", "dfnText": "screenY", "refSections": [{"refs": [{"id": "ref-for-dom-window-screeny"}], "title": "3.2.2. Window attribute and method definition changes"}], "external": true};
window.dfnpanelData['56acfb7f'] = {"dfnID": "56acfb7f", "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-available-screen-area", "dfnText": "web-exposed available screen area", "refSections": [{"refs": [{"id": "ref-for-web-exposed-available-screen-area"}], "title": "2.4. Available screen area"}], "external": true};
window.dfnpanelData['ebe350b9'] = {"dfnID": "ebe350b9", "url": "https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area", "dfnText": "web-exposed screen area", "refSections": [{"refs": [{"id": "ref-for-web-exposed-screen-area"}], "title": "2.3. Screen area"}], "external": true};
window.dfnpanelData['2bc0cdf4'] = {"dfnID": "2bc0cdf4", "url": "https://dom.spec.whatwg.org/#eventtarget", "dfnText": "EventTarget", "refSections": [{"refs": [{"id": "ref-for-eventtarget"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-eventtarget\u2460"}], "title": "3.3. ScreenDetails interface"}], "external": true};
window.dfnpanelData['a973e0fe'] = {"dfnID": "a973e0fe", "url": "https://dom.spec.whatwg.org/#concept-document", "dfnText": "document", "refSections": [{"refs": [{"id": "ref-for-concept-document"}], "title": "3.7. Permission Policy integration"}], "external": true};
window.dfnpanelData['5fd23811'] = {"dfnID": "5fd23811", "url": "https://dom.spec.whatwg.org/#concept-event-fire", "dfnText": "fire an event", "refSections": [{"refs": [{"id": "ref-for-concept-event-fire"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-concept-event-fire\u2460"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-concept-event-fire\u2461"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-concept-event-fire\u2462"}], "title": "3.4.1. onchange attribute"}], "external": true};
window.dfnpanelData['900ce14b'] = {"dfnID": "900ce14b", "url": "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots", "dfnText": "internal slot", "refSections": [{"refs": [{"id": "ref-for-sec-object-internal-methods-and-internal-slots"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-sec-object-internal-methods-and-internal-slots\u2460"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['6777aaf6'] = {"dfnID": "6777aaf6", "url": "https://www.w3.org/TR/fingerprinting-guidance/#dfn-active-fingerprinting", "dfnText": "active fingerprinting", "refSections": [{"refs": [{"id": "ref-for-dfn-active-fingerprinting"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-dfn-active-fingerprinting\u2460"}], "title": "5. Privacy Considerations"}], "external": true};
window.dfnpanelData['543d760f'] = {"dfnID": "543d760f", "url": "https://fullscreen.spec.whatwg.org/#dictdef-fullscreenoptions", "dfnText": "FullscreenOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-fullscreenoptions"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-dictdef-fullscreenoptions\u2460"}, {"id": "ref-for-dictdef-fullscreenoptions\u2461"}, {"id": "ref-for-dictdef-fullscreenoptions\u2462"}], "title": "3.5. Extensions to FullscreenOptions"}], "external": true};
window.dfnpanelData['bcdb6841'] = {"dfnID": "bcdb6841", "url": "https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen", "dfnText": "requestFullscreen()", "refSections": [{"refs": [{"id": "ref-for-dom-element-requestfullscreen"}], "title": "1.2.4. Place fullscreen content on a specific screen"}, {"refs": [{"id": "ref-for-dom-element-requestfullscreen\u2460"}, {"id": "ref-for-dom-element-requestfullscreen\u2461"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}, {"refs": [{"id": "ref-for-dom-element-requestfullscreen\u2462"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['0e9f636b'] = {"dfnID": "0e9f636b", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp", "dfnText": "DOMHighResTimeStamp", "refSections": [{"refs": [{"id": "ref-for-dom-domhighrestimestamp"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['7e7cc1d8'] = {"dfnID": "7e7cc1d8", "url": "https://w3c.github.io/hr-time/#dfn-current-high-resolution-time", "dfnText": "current high resolution time", "refSections": [{"refs": [{"id": "ref-for-dfn-current-high-resolution-time"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-dfn-current-high-resolution-time\u2460"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": true};
window.dfnpanelData['f0951476'] = {"dfnID": "f0951476", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler", "dfnText": "EventHandler", "refSections": [{"refs": [{"id": "ref-for-eventhandler"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-eventhandler\u2460"}, {"id": "ref-for-eventhandler\u2461"}], "title": "3.3. ScreenDetails interface"}], "external": true};
window.dfnpanelData['5d7209e9'] = {"dfnID": "5d7209e9", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window", "dfnText": "Window", "refSections": [{"refs": [{"id": "ref-for-window"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-window\u2460"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-window\u2461"}, {"id": "ref-for-window\u2462"}], "title": "2.10. Current screen"}, {"refs": [{"id": "ref-for-window\u2463"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-window\u2464"}, {"id": "ref-for-window\u2465"}, {"id": "ref-for-window\u2466"}], "title": "3.2. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-window\u2467"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-window\u2468"}, {"id": "ref-for-window\u2460\u24ea"}], "title": "3.2.2. Window attribute and method definition changes"}, {"refs": [{"id": "ref-for-window\u2460\u2460"}, {"id": "ref-for-window\u2460\u2461"}, {"id": "ref-for-window\u2460\u2462"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-window\u2460\u2463"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-window\u2460\u2464"}, {"id": "ref-for-window\u2460\u2465"}, {"id": "ref-for-window\u2460\u2466"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-window\u2460\u2467"}, {"id": "ref-for-window\u2460\u2468"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": true};
window.dfnpanelData['35972864'] = {"dfnID": "35972864", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document", "dfnText": "active document", "refSections": [{"refs": [{"id": "ref-for-nav-document"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": true};
window.dfnpanelData['3610bd67'] = {"dfnID": "3610bd67", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use", "dfnText": "allowed to use", "refSections": [{"refs": [{"id": "ref-for-allowed-to-use"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-allowed-to-use\u2460"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['3349d69f'] = {"dfnID": "3349d69f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window", "dfnText": "associated document", "refSections": [{"refs": [{"id": "ref-for-concept-document-window"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-concept-document-window\u2460"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['aca22383'] = {"dfnID": "aca22383", "url": "https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation", "dfnText": "consume user activation", "refSections": [{"refs": [{"id": "ref-for-consume-user-activation"}, {"id": "ref-for-consume-user-activation\u2460"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['9d386f55'] = {"dfnID": "9d386f55", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type", "dfnText": "event handler event type", "refSections": [{"refs": [{"id": "ref-for-event-handler-event-type"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-event-handler-event-type\u2460"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-event-handler-event-type\u2461"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": true};
window.dfnpanelData['03675365'] = {"dfnID": "03675365", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes", "dfnText": "event handler idl attribute", "refSections": [{"refs": [{"id": "ref-for-event-handler-idl-attributes"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-event-handler-idl-attributes\u2460"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-event-handler-idl-attributes\u2461"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['3976d3be'] = {"dfnID": "3976d3be", "url": "https://html.spec.whatwg.org/multipage/#last-activation-timestamp", "dfnText": "last activation timestamp", "refSections": [{"refs": [{"id": "ref-for-last-activation-timestamp"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['f449d4f8'] = {"dfnID": "f449d4f8", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open", "dfnText": "open(url, target, features)", "refSections": [{"refs": [{"id": "ref-for-dom-open"}], "title": "1.2.5. Place windows on a specific screen"}, {"refs": [{"id": "ref-for-dom-open\u2460"}], "title": "3.2.2. Window attribute and method definition changes"}, {"refs": [{"id": "ref-for-dom-open\u2461"}, {"id": "ref-for-dom-open\u2462"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-dom-open\u2463"}, {"id": "ref-for-dom-open\u2464"}], "title": "4. Security Considerations"}], "external": true};
window.dfnpanelData['48438eb3'] = {"dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{"refs": [{"id": "ref-for-queue-a-global-task"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2460"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2461"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2462"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2463"}], "title": "3.4.1. onchange attribute"}], "external": true};
window.dfnpanelData['e99bd18e'] = {"dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-global"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2460"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2461"}, {"id": "ref-for-concept-relevant-global\u2462"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2463"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2464"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2465"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2466"}], "title": "3.4.1. onchange attribute"}], "external": true};
window.dfnpanelData['ae2a6342'] = {"dfnID": "ae2a6342", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context", "dfnText": "top-level browsing context", "refSections": [{"refs": [{"id": "ref-for-top-level-browsing-context"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": true};
window.dfnpanelData['47fe679e'] = {"dfnID": "47fe679e", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation", "dfnText": "transient activation", "refSections": [{"refs": [{"id": "ref-for-transient-activation"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['6906895e'] = {"dfnID": "6906895e", "url": "https://html.spec.whatwg.org/multipage/#transient-activation-duration", "dfnText": "transient activation duration", "refSections": [{"refs": [{"id": "ref-for-transient-activation-duration"}], "title": "3.2.3. Window.open() method definition changes"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append", "refSections": [{"refs": [{"id": "ref-for-list-append"}], "title": "3.3.1. screens attribute"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}], "title": "3.3.1. screens attribute"}], "external": true};
window.dfnpanelData['95c866a0'] = {"dfnID": "95c866a0", "url": "https://infra.spec.whatwg.org/#list-sort-in-ascending-order", "dfnText": "sorting", "refSections": [{"refs": [{"id": "ref-for-list-sort-in-ascending-order"}], "title": "3.3.1. screens attribute"}], "external": true};
window.dfnpanelData['ba1bd741'] = {"dfnID": "ba1bd741", "url": "https://w3c.github.io/permissions/#dfn-default-powerful-feature", "dfnText": "default powerful feature", "refSections": [{"refs": [{"id": "ref-for-dfn-default-powerful-feature"}], "title": "3.6. Permission API Integration"}, {"refs": [{"id": "ref-for-dfn-default-powerful-feature\u2460"}], "title": "6. Accessibility Considerations"}], "external": true};
window.dfnpanelData['2cb28cb0'] = {"dfnID": "2cb28cb0", "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied", "dfnText": "denied", "refSections": [{"refs": [{"id": "ref-for-dom-permissionstate-denied"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['e740d7e5'] = {"dfnID": "e740d7e5", "url": "https://w3c.github.io/permissions/#dfn-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-dfn-name"}], "title": "3.6. Permission API Integration"}], "external": true};
window.dfnpanelData['bcc085e3'] = {"dfnID": "bcc085e3", "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use", "dfnText": "request permission to use", "refSections": [{"refs": [{"id": "ref-for-dfn-request-permission-to-use"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['1570624a'] = {"dfnID": "1570624a", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist", "dfnText": "default allowlist", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature-default-allowlist"}], "title": "3.7. Permission Policy integration"}], "external": true};
window.dfnpanelData['cc890cc1'] = {"dfnID": "cc890cc1", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature", "dfnText": "policy-controlled feature", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2460"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2461"}], "title": "3.7. Permission Policy integration"}], "external": true};
window.dfnpanelData['dca2de17'] = {"dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{"refs": [{"id": "ref-for-idl-DOMException"}, {"id": "ref-for-idl-DOMException\u2460"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['dcf5fafa'] = {"dfnID": "dcf5fafa", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array", "dfnText": "FrozenArray", "refSections": [{"refs": [{"id": "ref-for-idl-frozen-array"}], "title": "3.3. ScreenDetails interface"}], "external": true};
window.dfnpanelData['ba556545'] = {"dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{"refs": [{"id": "ref-for-notallowederror"}, {"id": "ref-for-notallowederror\u2460"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}], "title": "3.2. Extensions to the Window interface"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}, {"id": "ref-for-SecureContext\u2460"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-SecureContext\u2461"}], "title": "3.2. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-SecureContext\u2462"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-SecureContext\u2463"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-idl-boolean\u2460"}, {"id": "ref-for-idl-boolean\u2461"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['eec1be2d'] = {"dfnID": "eec1be2d", "url": "https://webidl.spec.whatwg.org/#idl-float", "dfnText": "float", "refSections": [{"refs": [{"id": "ref-for-idl-float"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['f8de33a3'] = {"dfnID": "f8de33a3", "url": "https://webidl.spec.whatwg.org/#idl-long", "dfnText": "long", "refSections": [{"refs": [{"id": "ref-for-idl-long"}, {"id": "ref-for-idl-long\u2460"}, {"id": "ref-for-idl-long\u2461"}, {"id": "ref-for-idl-long\u2462"}], "title": "3.4. The ScreenDetailed interface"}], "external": true};
window.dfnpanelData['b262501e'] = {"dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{"refs": [{"id": "ref-for-reject"}, {"id": "ref-for-reject\u2460"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['3b90bdcd'] = {"dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{"refs": [{"id": "ref-for-resolve"}], "title": "3.2.1. getScreenDetails() method"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}, {"id": "ref-for-this\u2462"}, {"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-this\u2465"}, {"id": "ref-for-this\u2466"}, {"id": "ref-for-this\u2467"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-this\u2468"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-this\u2460\u24ea"}, {"id": "ref-for-this\u2460\u2460"}, {"id": "ref-for-this\u2460\u2461"}, {"id": "ref-for-this\u2460\u2462"}, {"id": "ref-for-this\u2460\u2463"}, {"id": "ref-for-this\u2460\u2464"}, {"id": "ref-for-this\u2460\u2465"}, {"id": "ref-for-this\u2460\u2466"}], "title": "3.4. The ScreenDetailed interface"}, {"refs": [{"id": "ref-for-this\u2460\u2467"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": true};
window.dfnpanelData['screen'] = {"dfnID": "screen", "url": "#screen", "dfnText": "screen", "refSections": [{"refs": [{"id": "ref-for-screen\u2463"}, {"id": "ref-for-screen\u2464"}, {"id": "ref-for-screen\u2465"}, {"id": "ref-for-screen\u2466"}, {"id": "ref-for-screen\u2467"}, {"id": "ref-for-screen\u2468"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-screen\u2460\u24ea"}], "title": "2.2. Screen pixel"}, {"refs": [{"id": "ref-for-screen\u2460\u2460"}, {"id": "ref-for-screen\u2460\u2461"}], "title": "2.3. Screen area"}, {"refs": [{"id": "ref-for-screen\u2460\u2462"}, {"id": "ref-for-screen\u2460\u2463"}, {"id": "ref-for-screen\u2460\u2464"}, {"id": "ref-for-screen\u2460\u2465"}], "title": "2.4. Available screen area"}, {"refs": [{"id": "ref-for-screen\u2460\u2466"}, {"id": "ref-for-screen\u2460\u2467"}, {"id": "ref-for-screen\u2460\u2468"}, {"id": "ref-for-screen\u2461\u24ea"}], "title": "2.5. Virtual screen arrangement"}, {"refs": [{"id": "ref-for-screen\u2461\u2460"}], "title": "2.6. Screen position"}, {"refs": [{"id": "ref-for-screen\u2461\u2461"}], "title": "2.7. Available screen position"}, {"refs": [{"id": "ref-for-screen\u2461\u2462"}, {"id": "ref-for-screen\u2461\u2463"}, {"id": "ref-for-screen\u2461\u2464"}], "title": "2.8. Primary screen"}, {"refs": [{"id": "ref-for-screen\u2461\u2465"}, {"id": "ref-for-screen\u2461\u2466"}, {"id": "ref-for-screen\u2461\u2467"}], "title": "2.9. Internal screen"}, {"refs": [{"id": "ref-for-screen\u2462\u24ea"}], "title": "2.10. Current screen"}, {"refs": [{"id": "ref-for-screen\u2462\u2460"}, {"id": "ref-for-screen\u2462\u2461"}, {"id": "ref-for-screen\u2462\u2462"}, {"id": "ref-for-screen\u2462\u2463"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-screen\u2462\u2468"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-screen\u2463\u2460"}, {"id": "ref-for-screen\u2463\u2461"}, {"id": "ref-for-screen\u2463\u2462"}, {"id": "ref-for-screen\u2463\u2463"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-screen\u2463\u2464"}, {"id": "ref-for-screen\u2463\u2465"}, {"id": "ref-for-screen\u2463\u2466"}], "title": "3.3.1. screens attribute"}, {"refs": [{"id": "ref-for-screen\u2463\u2467"}, {"id": "ref-for-screen\u2463\u2468"}, {"id": "ref-for-screen\u2464\u24ea"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-screen\u2464\u2460"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-screen\u2464\u2461"}, {"id": "ref-for-screen\u2464\u2463"}, {"id": "ref-for-screen\u2464\u2464"}, {"id": "ref-for-screen\u2464\u2465"}, {"id": "ref-for-screen\u2464\u2466"}, {"id": "ref-for-screen\u2464\u2467"}, {"id": "ref-for-screen\u2464\u2468"}, {"id": "ref-for-screen\u2465\u24ea"}, {"id": "ref-for-screen\u2465\u2460"}, {"id": "ref-for-screen\u2465\u2461"}], "title": "3.4. The ScreenDetailed interface"}, {"refs": [{"id": "ref-for-screen\u2465\u2463"}], "title": "3.4.1. onchange attribute"}, {"refs": [{"id": "ref-for-screen\u2465\u2464"}, {"id": "ref-for-screen\u2465\u2465"}], "title": "3.5. Extensions to FullscreenOptions"}, {"refs": [{"id": "ref-for-screen\u2465\u2466"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": false};
window.dfnpanelData['screen-color-depth'] = {"dfnID": "screen-color-depth", "url": "#screen-color-depth", "dfnText": "color depth", "refSections": [{"refs": [{"id": "ref-for-screen-color-depth"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-device-pixel-ratio'] = {"dfnID": "screen-device-pixel-ratio", "url": "#screen-device-pixel-ratio", "dfnText": "device pixel ratio", "refSections": [{"refs": [{"id": "ref-for-screen-device-pixel-ratio"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-screen-device-pixel-ratio\u2460"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-screen-device-pixel-ratio\u2461"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['screen-orientation'] = {"dfnID": "screen-orientation", "url": "#screen-orientation", "dfnText": "orientation", "refSections": [{"refs": [{"id": "ref-for-screen-orientation"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-label'] = {"dfnID": "screen-label", "url": "#screen-label", "dfnText": "label", "refSections": [{"refs": [{"id": "ref-for-screen-label"}, {"id": "ref-for-screen-label\u2460"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-screen-label\u2461"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-screen-label\u2462"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['screen-pixels'] = {"dfnID": "screen-pixels", "url": "#screen-pixels", "dfnText": "pixels", "refSections": [{"refs": [{"id": "ref-for-screen-pixels"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-screen-pixels\u2460"}, {"id": "ref-for-screen-pixels\u2461"}, {"id": "ref-for-screen-pixels\u2462"}, {"id": "ref-for-screen-pixels\u2463"}], "title": "2.2. Screen pixel"}, {"refs": [{"id": "ref-for-screen-pixels\u2464"}, {"id": "ref-for-screen-pixels\u2465"}, {"id": "ref-for-screen-pixels\u2466"}], "title": "2.3. Screen area"}, {"refs": [{"id": "ref-for-screen-pixels\u2467"}, {"id": "ref-for-screen-pixels\u2468"}], "title": "2.4. Available screen area"}], "external": false};
window.dfnpanelData['pixel-color-depth'] = {"dfnID": "pixel-color-depth", "url": "#pixel-color-depth", "dfnText": "color depth", "refSections": [{"refs": [{"id": "ref-for-pixel-color-depth"}], "title": "2.1. Screen"}, {"refs": [{"id": "ref-for-pixel-color-depth\u2460"}], "title": "2.2. Screen pixel"}], "external": false};
window.dfnpanelData['screen-screen-area'] = {"dfnID": "screen-screen-area", "url": "#screen-screen-area", "dfnText": "screen area", "refSections": [{"refs": [{"id": "ref-for-screen-screen-area"}, {"id": "ref-for-screen-screen-area\u2460"}, {"id": "ref-for-screen-screen-area\u2461"}, {"id": "ref-for-screen-screen-area\u2462"}, {"id": "ref-for-screen-screen-area\u2463"}], "title": "2.3. Screen area"}, {"refs": [{"id": "ref-for-screen-screen-area\u2464"}, {"id": "ref-for-screen-screen-area\u2465"}, {"id": "ref-for-screen-screen-area\u2466"}], "title": "2.4. Available screen area"}, {"refs": [{"id": "ref-for-screen-screen-area\u2467"}], "title": "2.5. Virtual screen arrangement"}, {"refs": [{"id": "ref-for-screen-screen-area\u2468"}], "title": "2.6. Screen position"}, {"refs": [{"id": "ref-for-screen-screen-area\u2460\u24ea"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-width'] = {"dfnID": "screen-width", "url": "#screen-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-screen-width"}, {"id": "ref-for-screen-width\u2460"}], "title": "2.3. Screen area"}, {"refs": [{"id": "ref-for-screen-width\u2461"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-height'] = {"dfnID": "screen-height", "url": "#screen-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-screen-height"}, {"id": "ref-for-screen-height\u2460"}], "title": "2.3. Screen area"}, {"refs": [{"id": "ref-for-screen-height\u2461"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-available-screen-area'] = {"dfnID": "screen-available-screen-area", "url": "#screen-available-screen-area", "dfnText": "available screen area", "refSections": [{"refs": [{"id": "ref-for-screen-available-screen-area"}, {"id": "ref-for-screen-available-screen-area\u2460"}], "title": "2.4. Available screen area"}, {"refs": [{"id": "ref-for-screen-available-screen-area\u2461"}], "title": "2.7. Available screen position"}, {"refs": [{"id": "ref-for-screen-available-screen-area\u2462"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-available-width'] = {"dfnID": "screen-available-width", "url": "#screen-available-width", "dfnText": "available width", "refSections": [{"refs": [{"id": "ref-for-screen-available-width"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['screen-available-height'] = {"dfnID": "screen-available-height", "url": "#screen-available-height", "dfnText": "available height", "refSections": [{"refs": [{"id": "ref-for-screen-available-height"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['virtual-screen-arrangement'] = {"dfnID": "virtual-screen-arrangement", "url": "#virtual-screen-arrangement", "dfnText": "virtual screen arrangement", "refSections": [{"refs": [{"id": "ref-for-virtual-screen-arrangement"}, {"id": "ref-for-virtual-screen-arrangement\u2460"}, {"id": "ref-for-virtual-screen-arrangement\u2461"}, {"id": "ref-for-virtual-screen-arrangement\u2462"}], "title": "2.5. Virtual screen arrangement"}, {"refs": [{"id": "ref-for-virtual-screen-arrangement\u2463"}], "title": "2.6. Screen position"}, {"refs": [{"id": "ref-for-virtual-screen-arrangement\u2464"}], "title": "2.7. Available screen position"}], "external": false};
window.dfnpanelData['multi-screen-origin'] = {"dfnID": "multi-screen-origin", "url": "#multi-screen-origin", "dfnText": "multi-screen origin", "refSections": [{"refs": [{"id": "ref-for-multi-screen-origin"}, {"id": "ref-for-multi-screen-origin\u2460"}, {"id": "ref-for-multi-screen-origin\u2461"}], "title": "2.5. Virtual screen arrangement"}, {"refs": [{"id": "ref-for-multi-screen-origin\u2462"}], "title": "2.6. Screen position"}, {"refs": [{"id": "ref-for-multi-screen-origin\u2463"}], "title": "2.7. Available screen position"}, {"refs": [{"id": "ref-for-multi-screen-origin\u2464"}, {"id": "ref-for-multi-screen-origin\u2465"}, {"id": "ref-for-multi-screen-origin\u2466"}, {"id": "ref-for-multi-screen-origin\u2467"}, {"id": "ref-for-multi-screen-origin\u2468"}], "title": "3.2.2. Window attribute and method definition changes"}, {"refs": [{"id": "ref-for-multi-screen-origin\u2460\u24ea"}, {"id": "ref-for-multi-screen-origin\u2460\u2460"}, {"id": "ref-for-multi-screen-origin\u2460\u2461"}, {"id": "ref-for-multi-screen-origin\u2460\u2462"}], "title": "3.4. The ScreenDetailed interface"}, {"refs": [{"id": "ref-for-multi-screen-origin\u2460\u2463"}], "title": "4. Security Considerations"}], "external": false};
window.dfnpanelData['screen-screen-position'] = {"dfnID": "screen-screen-position", "url": "#screen-screen-position", "dfnText": "screen position", "refSections": [{"refs": [{"id": "ref-for-screen-screen-position"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-screen-screen-position\u2460"}, {"id": "ref-for-screen-screen-position\u2461"}, {"id": "ref-for-screen-screen-position\u2462"}, {"id": "ref-for-screen-screen-position\u2463"}, {"id": "ref-for-screen-screen-position\u2464"}, {"id": "ref-for-screen-screen-position\u2465"}], "title": "3.3.1. screens attribute"}, {"refs": [{"id": "ref-for-screen-screen-position\u2466"}, {"id": "ref-for-screen-screen-position\u2467"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['screen-available-screen-position'] = {"dfnID": "screen-available-screen-position", "url": "#screen-available-screen-position", "dfnText": "available screen position", "refSections": [{"refs": [{"id": "ref-for-screen-available-screen-position"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-screen-available-screen-position\u2460"}, {"id": "ref-for-screen-available-screen-position\u2461"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['primary'] = {"dfnID": "primary", "url": "#primary", "dfnText": "primary", "refSections": [{"refs": [{"id": "ref-for-primary"}], "title": "2.5. Virtual screen arrangement"}, {"refs": [{"id": "ref-for-primary\u2460"}], "title": "2.8. Primary screen"}, {"refs": [{"id": "ref-for-primary\u2461"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-primary\u2462"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['secondary'] = {"dfnID": "secondary", "url": "#secondary", "dfnText": "secondary", "refSections": [{"refs": [{"id": "ref-for-secondary"}], "title": "2.8. Primary screen"}, {"refs": [{"id": "ref-for-secondary\u2460"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['internal'] = {"dfnID": "internal", "url": "#internal", "dfnText": "internal", "refSections": [{"refs": [{"id": "ref-for-internal"}, {"id": "ref-for-internal\u2460"}, {"id": "ref-for-internal\u2461"}, {"id": "ref-for-internal\u2462"}, {"id": "ref-for-internal\u2463"}], "title": "2.9. Internal screen"}, {"refs": [{"id": "ref-for-internal\u2464"}], "title": "2.11. Observable screen properties"}, {"refs": [{"id": "ref-for-internal\u2465"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['external'] = {"dfnID": "external", "url": "#external", "dfnText": "external", "refSections": [{"refs": [{"id": "ref-for-external"}, {"id": "ref-for-external\u2460"}, {"id": "ref-for-external\u2461"}, {"id": "ref-for-external\u2462"}], "title": "2.9. Internal screen"}, {"refs": [{"id": "ref-for-external\u2463"}], "title": "2.11. Observable screen properties"}], "external": false};
window.dfnpanelData['current-screen'] = {"dfnID": "current-screen", "url": "#current-screen", "dfnText": "current screen", "refSections": [{"refs": [{"id": "ref-for-current-screen"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-current-screen\u2460"}, {"id": "ref-for-current-screen\u2461"}, {"id": "ref-for-current-screen\u2462"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-current-screen\u2463"}, {"id": "ref-for-current-screen\u2464"}, {"id": "ref-for-current-screen\u2465"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-current-screen\u2466"}, {"id": "ref-for-current-screen\u2467"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-current-screen\u2468"}], "title": "3.7. Permission Policy integration"}, {"refs": [{"id": "ref-for-current-screen\u2460\u24ea"}, {"id": "ref-for-current-screen\u2460\u2460"}, {"id": "ref-for-current-screen\u2460\u2461"}, {"id": "ref-for-current-screen\u2460\u2462"}, {"id": "ref-for-current-screen\u2460\u2463"}], "title": "4. Security Considerations"}, {"refs": [{"id": "ref-for-current-screen\u2460\u2464"}], "title": "5. Privacy Considerations"}], "external": false};
window.dfnpanelData['screen-basic-observable-properties'] = {"dfnID": "screen-basic-observable-properties", "url": "#screen-basic-observable-properties", "dfnText": "basic observable properties", "refSections": [{"refs": [{"id": "ref-for-screen-basic-observable-properties"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-screen-basic-observable-properties\u2460"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-screen-basic-observable-properties\u2461"}], "title": "3.4.1. onchange attribute"}], "external": false};
window.dfnpanelData['screen-advanced-observable-properties'] = {"dfnID": "screen-advanced-observable-properties", "url": "#screen-advanced-observable-properties", "dfnText": "advanced observable properties", "refSections": [{"refs": [{"id": "ref-for-screen-advanced-observable-properties"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-screen-advanced-observable-properties\u2460"}], "title": "3.4.1. onchange attribute"}], "external": false};
window.dfnpanelData['dom-screen-isextended'] = {"dfnID": "dom-screen-isextended", "url": "#dom-screen-isextended", "dfnText": "isExtended", "refSections": [{"refs": [{"id": "ref-for-dom-screen-isextended"}], "title": "1.2.1. Detect the presence of multiple screens"}, {"refs": [{"id": "ref-for-dom-screen-isextended\u2460"}], "title": "1.2.2. Detect Screen attribute changes"}, {"refs": [{"id": "ref-for-dom-screen-isextended\u2461"}, {"id": "ref-for-dom-screen-isextended\u2462"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-dom-screen-isextended\u2463"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-dom-screen-isextended\u2464"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}, {"refs": [{"id": "ref-for-dom-screen-isextended\u2465"}, {"id": "ref-for-dom-screen-isextended\u2466"}, {"id": "ref-for-dom-screen-isextended\u2467"}], "title": "3.7. Permission Policy integration"}], "external": false};
window.dfnpanelData['dom-screen-onchange'] = {"dfnID": "dom-screen-onchange", "url": "#dom-screen-onchange", "dfnText": "onchange", "refSections": [{"refs": [{"id": "ref-for-dom-screen-onchange"}, {"id": "ref-for-dom-screen-onchange\u2460"}], "title": "3.1. Extensions to the Screen interface"}, {"refs": [{"id": "ref-for-dom-screen-onchange\u2461"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-dom-screen-onchange\u2462"}], "title": "3.4.1. onchange attribute"}], "external": false};
window.dfnpanelData['eventdef-screen-change'] = {"dfnID": "eventdef-screen-change", "url": "#eventdef-screen-change", "dfnText": "change", "refSections": [{"refs": [{"id": "ref-for-eventdef-screen-change"}], "title": "1.2.2. Detect Screen attribute changes"}, {"refs": [{"id": "ref-for-eventdef-screen-change\u2460"}], "title": "3.1.2. onchange attribute"}], "external": false};
window.dfnpanelData['window-placement-task-source'] = {"dfnID": "window-placement-task-source", "url": "#window-placement-task-source", "dfnText": "window placement task source", "refSections": [{"refs": [{"id": "ref-for-window-placement-task-source"}], "title": "3.1.2. onchange attribute"}, {"refs": [{"id": "ref-for-window-placement-task-source\u2460"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-window-placement-task-source\u2461"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-window-placement-task-source\u2462"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-window-placement-task-source\u2463"}], "title": "3.4.1. onchange attribute"}], "external": false};
window.dfnpanelData['dom-window-screendetails-slot'] = {"dfnID": "dom-window-screendetails-slot", "url": "#dom-window-screendetails-slot", "dfnText": "[[screenDetails]]", "refSections": [{"refs": [{"id": "ref-for-dom-window-screendetails-slot"}, {"id": "ref-for-dom-window-screendetails-slot\u2460"}, {"id": "ref-for-dom-window-screendetails-slot\u2461"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-dom-window-screendetails-slot\u2462"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": false};
window.dfnpanelData['dom-window-getscreendetails'] = {"dfnID": "dom-window-getscreendetails", "url": "#dom-window-getscreendetails", "dfnText": "getScreenDetails()", "refSections": [{"refs": [{"id": "ref-for-dom-window-getscreendetails"}], "title": "1.2.3. Request detailed screen information"}, {"refs": [{"id": "ref-for-dom-window-getscreendetails\u2460"}, {"id": "ref-for-dom-window-getscreendetails\u2461"}], "title": "3.2. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-dom-window-getscreendetails\u2462"}, {"id": "ref-for-dom-window-getscreendetails\u2463"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-dom-window-getscreendetails\u2464"}, {"id": "ref-for-dom-window-getscreendetails\u2465"}], "title": "3.7. Permission Policy integration"}], "external": false};
window.dfnpanelData['dom-window-targetscreenfullscreen-slot'] = {"dfnID": "dom-window-targetscreenfullscreen-slot", "url": "#dom-window-targetscreenfullscreen-slot", "dfnText": "[[targetScreenFullscreen]]", "refSections": [{"refs": [{"id": "ref-for-dom-window-targetscreenfullscreen-slot"}, {"id": "ref-for-dom-window-targetscreenfullscreen-slot\u2460"}, {"id": "ref-for-dom-window-targetscreenfullscreen-slot\u2461"}], "title": "3.2.3. Window.open() method definition changes"}, {"refs": [{"id": "ref-for-dom-window-targetscreenfullscreen-slot\u2462"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": false};
window.dfnpanelData['screendetails'] = {"dfnID": "screendetails", "url": "#screendetails", "dfnText": "ScreenDetails", "refSections": [{"refs": [{"id": "ref-for-screendetails"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-screendetails\u2460"}], "title": "1.2.3. Request detailed screen information"}, {"refs": [{"id": "ref-for-screendetails\u2461"}, {"id": "ref-for-screendetails\u2462"}], "title": "3.2. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-screendetails\u2463"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-screendetails\u2464"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-screendetails\u2465"}], "title": "3.3.3. onscreenschange attribute"}, {"refs": [{"id": "ref-for-screendetails\u2466"}], "title": "3.3.4. oncurrentscreenchange attribute"}, {"refs": [{"id": "ref-for-screendetails\u2467"}], "title": "3.7. Permission Policy integration"}], "external": false};
window.dfnpanelData['dom-screendetails-screens'] = {"dfnID": "dom-screendetails-screens", "url": "#dom-screendetails-screens", "dfnText": "screens", "refSections": [{"refs": [{"id": "ref-for-dom-screendetails-screens"}, {"id": "ref-for-dom-screendetails-screens\u2460"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-dom-screendetails-screens\u2461"}], "title": "3.3.1. screens attribute"}, {"refs": [{"id": "ref-for-dom-screendetails-screens\u2462"}, {"id": "ref-for-dom-screendetails-screens\u2463"}, {"id": "ref-for-dom-screendetails-screens\u2464"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-dom-screendetails-screens\u2465"}], "title": "3.3.3. onscreenschange attribute"}], "external": false};
window.dfnpanelData['screen-ordering'] = {"dfnID": "screen-ordering", "url": "#screen-ordering", "dfnText": "screen ordering", "refSections": [{"refs": [{"id": "ref-for-screen-ordering"}], "title": "3.3.1. screens attribute"}], "external": false};
window.dfnpanelData['dom-screendetails-currentscreen'] = {"dfnID": "dom-screendetails-currentscreen", "url": "#dom-screendetails-currentscreen", "dfnText": "currentScreen", "refSections": [{"refs": [{"id": "ref-for-dom-screendetails-currentscreen"}, {"id": "ref-for-dom-screendetails-currentscreen\u2460"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-dom-screendetails-currentscreen\u2461"}, {"id": "ref-for-dom-screendetails-currentscreen\u2462"}, {"id": "ref-for-dom-screendetails-currentscreen\u2463"}, {"id": "ref-for-dom-screendetails-currentscreen\u2464"}], "title": "3.3.2. currentScreen attribute"}], "external": false};
window.dfnpanelData['dom-screendetails-onscreenschange'] = {"dfnID": "dom-screendetails-onscreenschange", "url": "#dom-screendetails-onscreenschange", "dfnText": "onscreenschange", "refSections": [{"refs": [{"id": "ref-for-dom-screendetails-onscreenschange"}, {"id": "ref-for-dom-screendetails-onscreenschange\u2460"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-dom-screendetails-onscreenschange\u2461"}], "title": "3.3.3. onscreenschange attribute"}], "external": false};
window.dfnpanelData['eventdef-screendetails-screenschange'] = {"dfnID": "eventdef-screendetails-screenschange", "url": "#eventdef-screendetails-screenschange", "dfnText": "screenschange", "refSections": [{"refs": [{"id": "ref-for-eventdef-screendetails-screenschange"}], "title": "3.3.3. onscreenschange attribute"}], "external": false};
window.dfnpanelData['dom-screendetails-oncurrentscreenchange'] = {"dfnID": "dom-screendetails-oncurrentscreenchange", "url": "#dom-screendetails-oncurrentscreenchange", "dfnText": "oncurrentscreenchange", "refSections": [{"refs": [{"id": "ref-for-dom-screendetails-oncurrentscreenchange"}, {"id": "ref-for-dom-screendetails-oncurrentscreenchange\u2460"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-dom-screendetails-oncurrentscreenchange\u2461"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": false};
window.dfnpanelData['eventdef-screendetails-currentscreenchange'] = {"dfnID": "eventdef-screendetails-currentscreenchange", "url": "#eventdef-screendetails-currentscreenchange", "dfnText": "currentscreenchange", "refSections": [{"refs": [{"id": "ref-for-eventdef-screendetails-currentscreenchange"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-eventdef-screendetails-currentscreenchange\u2460"}], "title": "3.3.4. oncurrentscreenchange attribute"}], "external": false};
window.dfnpanelData['screendetailed'] = {"dfnID": "screendetailed", "url": "#screendetailed", "dfnText": "ScreenDetailed", "refSections": [{"refs": [{"id": "ref-for-screendetailed"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-screendetailed\u2460"}], "title": "1.2.5. Place windows on a specific screen"}, {"refs": [{"id": "ref-for-screendetailed\u2461"}, {"id": "ref-for-screendetailed\u2462"}, {"id": "ref-for-screendetailed\u2463"}, {"id": "ref-for-screendetailed\u2464"}], "title": "3.3. ScreenDetails interface"}, {"refs": [{"id": "ref-for-screendetailed\u2465"}], "title": "3.3.1. screens attribute"}, {"refs": [{"id": "ref-for-screendetailed\u2466"}, {"id": "ref-for-screendetailed\u2467"}], "title": "3.3.2. currentScreen attribute"}, {"refs": [{"id": "ref-for-screendetailed\u2468"}, {"id": "ref-for-screendetailed\u2460\u24ea"}], "title": "3.4. The ScreenDetailed interface"}, {"refs": [{"id": "ref-for-screendetailed\u2460\u2460"}], "title": "3.4.1. onchange attribute"}, {"refs": [{"id": "ref-for-screendetailed\u2460\u2461"}], "title": "3.5. Extensions to FullscreenOptions"}, {"refs": [{"id": "ref-for-screendetailed\u2460\u2462"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": false};
window.dfnpanelData['dom-screendetailed-availleft'] = {"dfnID": "dom-screendetailed-availleft", "url": "#dom-screendetailed-availleft", "dfnText": "availLeft", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-availleft"}, {"id": "ref-for-dom-screendetailed-availleft\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-availtop'] = {"dfnID": "dom-screendetailed-availtop", "url": "#dom-screendetailed-availtop", "dfnText": "availTop", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-availtop"}, {"id": "ref-for-dom-screendetailed-availtop\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-left'] = {"dfnID": "dom-screendetailed-left", "url": "#dom-screendetailed-left", "dfnText": "left", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-left"}, {"id": "ref-for-dom-screendetailed-left\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-top'] = {"dfnID": "dom-screendetailed-top", "url": "#dom-screendetailed-top", "dfnText": "top", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-top"}, {"id": "ref-for-dom-screendetailed-top\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-isprimary'] = {"dfnID": "dom-screendetailed-isprimary", "url": "#dom-screendetailed-isprimary", "dfnText": "isPrimary", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-isprimary"}, {"id": "ref-for-dom-screendetailed-isprimary\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-isinternal'] = {"dfnID": "dom-screendetailed-isinternal", "url": "#dom-screendetailed-isinternal", "dfnText": "isInternal", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-isinternal"}, {"id": "ref-for-dom-screendetailed-isinternal\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-devicepixelratio'] = {"dfnID": "dom-screendetailed-devicepixelratio", "url": "#dom-screendetailed-devicepixelratio", "dfnText": "devicePixelRatio", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-devicepixelratio"}, {"id": "ref-for-dom-screendetailed-devicepixelratio\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-label'] = {"dfnID": "dom-screendetailed-label", "url": "#dom-screendetailed-label", "dfnText": "label", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-label"}, {"id": "ref-for-dom-screendetailed-label\u2460"}], "title": "3.4. The ScreenDetailed interface"}], "external": false};
window.dfnpanelData['dom-screendetailed-onchange'] = {"dfnID": "dom-screendetailed-onchange", "url": "#dom-screendetailed-onchange", "dfnText": "onchange", "refSections": [{"refs": [{"id": "ref-for-dom-screendetailed-onchange"}], "title": "3.4.1. onchange attribute"}], "external": false};
window.dfnpanelData['eventdef-screendetailed-change'] = {"dfnID": "eventdef-screendetailed-change", "url": "#eventdef-screendetailed-change", "dfnText": "change", "refSections": [{"refs": [{"id": "ref-for-eventdef-screendetailed-change"}], "title": "3.3.2. currentScreen attribute"}], "external": false};
window.dfnpanelData['dom-fullscreenoptions-screen'] = {"dfnID": "dom-fullscreenoptions-screen", "url": "#dom-fullscreenoptions-screen", "dfnText": "screen", "refSections": [{"refs": [{"id": "ref-for-dom-fullscreenoptions-screen"}, {"id": "ref-for-dom-fullscreenoptions-screen\u2460"}], "title": "3.5. Extensions to FullscreenOptions"}, {"refs": [{"id": "ref-for-dom-fullscreenoptions-screen\u2461"}, {"id": "ref-for-dom-fullscreenoptions-screen\u2462"}], "title": "3.5.1. Element.requestFullscreen() method definition changes"}], "external": false};
window.dfnpanelData['permissiondef-window-management'] = {"dfnID": "permissiondef-window-management", "url": "#permissiondef-window-management", "dfnText": "window-management", "refSections": [{"refs": [{"id": "ref-for-permissiondef-window-management"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-permissiondef-window-management\u2460"}, {"id": "ref-for-permissiondef-window-management\u2461"}], "title": "3.6. Permission API Integration"}], "external": false};
window.dfnpanelData['dom-permissionpolicy-window-management'] = {"dfnID": "dom-permissionpolicy-window-management", "url": "#dom-permissionpolicy-window-management", "dfnText": "\"window-management\"", "refSections": [{"refs": [{"id": "ref-for-dom-permissionpolicy-window-management"}], "title": "3.1.1. isExtended attribute"}, {"refs": [{"id": "ref-for-dom-permissionpolicy-window-management\u2460"}], "title": "3.2.1. getScreenDetails() method"}, {"refs": [{"id": "ref-for-dom-permissionpolicy-window-management\u2461"}], "title": "3.7. Permission Policy integration"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>